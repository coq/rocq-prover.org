<div class="doc">
<div class="paragraph"> </div>
<a id="introduction"></a><h2 class="section">Introduction</h2>
<a id="summary"></a><h3 class="section">Summary</h3>
<div class="paragraph"> </div>

    This tutorial is about how to get the most out of library files, that is
    Coq files containing definitions, lemmas, notations, ...

<div class="paragraph"> </div>

    Coq Library files are modules, which may themselves contain (non-file) inner
    modules. In order to reuse the content of a file, one has to <span class="inlinecode"><span class="id" title="keyword">Require</span></span> it
    first. We will first see how these library files are identified by Coq and
    how to <span class="inlinecode"><span class="id" title="keyword">Require</span></span> them in practice.

<div class="paragraph"> </div>

    Coq Modules provide, among other things, namespace facilities as well as
    some form of locality. We will see how to identify the constants
    (definitions, lemmas, ...) contained in a module with a (more or less)
    qualified name such as <span class="inlinecode"><span class="id" title="var">Bool.andb_true_l</span></span>. In order to use an unqualified
    name, such as <span class="inlinecode"><span class="id" title="var">andb_true_l</span></span>, one has to <span class="inlinecode"><span class="id" title="keyword">Import</span></span> this module. It turns out
    this can lead to shadowing other existing constants. We will detail when and
    how it may happen.

<div class="paragraph"> </div>

    Next, we will be interested with other content types in modules, that is,
    hints, coercions, notations, ... and how they are typically not available
    when the module is not <span class="inlinecode"><span class="id" title="keyword">Import</span></span>ed. We will see how to restrict what is
    visible outside a module, either from the user side with selective imports,
    or from the module writer side with locality attributes.

<div class="paragraph"> </div>

    We will finally clarify the difference between <span class="inlinecode"><span class="id" title="keyword">Import</span></span>ing and <span class="inlinecode"><span class="id" title="keyword">Export</span></span>ing a
    module.

<div class="paragraph"> </div>

    The second and third part of this tutorial are (almost) independent.

<div class="paragraph"> </div>

    These topics are often skipped from lectures or courses about Coq
    because they are mostly technical and somewhat boring. However, any Coq
    user needs to learn (usually the hard way) this content before writing their
    own libraries.

<div class="paragraph"> </div>

<a id="prerequisites"></a><h3 class="section">Prerequisites</h3>
<div class="paragraph"> </div>

    Needed:
<ul class="doclist">
<li> The user should already have some basic Coq experience: writing
      definitions, lemmas, proofs...

</li>
<li> Some parts deal with more advanced Coq content (user-defined tactics,
      notations, coercions...); having some basic knowledge about it is better
      to appreciate what Coq can offer, but is not really needed.

</li>
</ul>
<div class="paragraph"> </div>

    Installation:
    This tutorial should work for Coq V8.17 or later.

</div><div class="doc">
<a id="library-files-modules-and-identifiers"></a><h2 class="section">Library files, modules and identifiers</h2>
</div><div class="doc">
<a id="the-require-command-and-fully-qualified-names"></a><h3 class="section">1.1 The <span class="inlinecode"><span class="id" title="keyword">Require</span></span> command and fully qualified names</h3>
</div><div class="doc">
Coq's basic compilation unit is the <i>library file</i>. Each compiled file can
    be <span class="inlinecode"><span class="id" title="keyword">Require</span></span>d in order to make its logical and computational content
    available in the current file.

<div class="paragraph"> </div>

    If not stated otherwise (with the <span class="inlinecode">-<span class="id" title="keyword">no</span>-<span class="id" title="var">init</span></span> command-line flag), Coq's
    initial state is populated by a dozen library files called the <span class="inlinecode"><span class="id" title="var">Prelude</span></span>
    (the interested reader can consult its
    <a href="https://github.com/coq/coq/blob/master/theories/Init/Prelude.v">source code</a>).

<div class="paragraph"> </div>

    We can see these files with the <span class="inlinecode"><span class="id" title="keyword">Print</span></span> <span class="inlinecode"><span class="id" title="var">Libraries</span></span> command: 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk0" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk0"><span class="kn">Print Libraries</span>.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">Loaded library files: 
  Coq.Init.Notations
  Coq.Init.<span class="kn">Ltac</span>
  <span class="nf">Coq</span>.Init.Logic
  Coq.Init.Datatypes
  Coq.Init.Specif
  Coq.Init.Decimal
  Coq.Init.Hexadecimal
  Coq.Init.Number
  Coq.Init.Nat
  Coq.Init.Byte
  Coq.Init.Peano
  Coq.Init.Wf
  Coq.Init.Tactics
  Coq.Init.Tauto
  Coq.Init.Prelude
</blockquote></div></div></small></span></pre><div class="doc">
As we can see, these files share a common logical prefix made of:
<ul class="doclist">
<li> <span class="inlinecode"><span class="id" title="var">Coq</span></span>: the library prefix used by the standard library

</li>
<li> <span class="inlinecode"><span class="id" title="var">Init</span></span>: the subdirectory of the root directory of Coq's standard library
      where these library files are located

</li>
</ul>
<div class="paragraph"> </div>

    This means that the <span class="inlinecode"><span class="id" title="var">Init</span></span> directory contains the (compiled) files
    <span class="inlinecode"><span class="id" title="var">Notations.vo</span></span>, <span class="inlinecode"><span class="id" title="var">Ltac.vo</span></span>, <span class="inlinecode"><span class="id" title="var">Logic.vo</span></span>, ... and we can already use their
    content, for instance the commutativity of the disjunction: 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk1" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk1"><span class="kn">Check</span> or_comm.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">or_comm
     : <span class="kr">forall</span> <span class="nv">A</span> <span class="nv">B</span> : <span class="kt">Prop</span>, A \/ B &lt;-&gt; B \/ A</blockquote></div></div></small></span></pre><div class="doc">
Let's require another small library file. 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">From</span> Coq <span class="kn">Require</span> Bool.Bool.</span></span></pre><div class="doc">
The previous command told <span class="inlinecode"><span class="id" title="var">Coq</span></span> to load all logical and computational
    content in the file <span class="inlinecode"><span class="id" title="var">Bool.vo</span></span> contained in the directory <span class="inlinecode"><span class="id" title="var">Bool</span></span> of the root
    directory of Coq's standard library (the interested reader can browse its
    current
    <a href="https://github.com/coq/coq/blob/master/theories/Bool/Bool.v">source code</a>).

</div><div class="doc">
Now let's see how our list of libraries has evolved: 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk2" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk2"><span class="kn">Print Libraries</span>.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">Loaded library files: 
  Coq.Init.Notations
  Coq.Init.<span class="kn">Ltac</span>
  <span class="nf">Coq</span>.Init.Logic
  Coq.Init.Datatypes
  Coq.Init.Specif
  Coq.Init.Decimal
  Coq.Init.Hexadecimal
  Coq.Init.Number
  Coq.Init.Nat
  Coq.Init.Byte
  Coq.Init.Peano
  Coq.Init.Wf
  Coq.Init.Tactics
  Coq.Init.Tauto
  Coq.Init.Prelude
  Coq.Classes.DecidableClass
  Coq.Bool.Bool
</blockquote></div></div></small></span></pre><div class="doc">
As we can see, we have not one but two more library files.
    The <span class="inlinecode"><span class="id" title="var">Coq.Classes.DecidableClass</span></span> is itself required in <span class="inlinecode"><span class="id" title="var">Coq.Bool.Bool</span></span>.

<div class="paragraph"> </div>

    Now there are two very important message here:
    1. When we <span class="inlinecode"><span class="id" title="keyword">Require</span></span> a file, we <span class="inlinecode"><span class="id" title="keyword">Require</span></span> recursively any file it has
       <span class="inlinecode"><span class="id" title="keyword">Require</span></span>d (and any file <span class="inlinecode"><span class="id" title="keyword">Require</span></span>d in the <span class="inlinecode"><span class="id" title="keyword">Require</span></span>d files, and so on).
    2. There is **no way** to "unrequire" anything. Once a file has been
       required, its content will remain in the global environment of the user
       in every file where it was (transitively) required, possibly cluttering
       up <span class="inlinecode"><span class="id" title="keyword">Search</span></span> output.

<div class="paragraph"> </div>

    As a consequence, one should be careful of what one <span class="inlinecode"><span class="id" title="keyword">Require</span></span>s. 
</div><div class="doc">
Now that we have required <span class="inlinecode"><span class="id" title="var">Coq.Bool.Bool</span></span>, we have many more lemmas about
    boolean operations. 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk3" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk3"><span class="kn">Search</span> andb true.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">Bool.andb_true_l:
  <span class="kr">forall</span> <span class="nv">b</span> : bool, (true &amp;&amp; b)%bool = b</blockquote><blockquote class="alectryon-message">Bool.andb_true_r:
  <span class="kr">forall</span> <span class="nv">b</span> : bool, (b &amp;&amp; true)%bool = b</blockquote><blockquote class="alectryon-message">andb_prop:
  <span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : bool,
  (a &amp;&amp; b)%bool = true -&gt; a = true /\ b = true</blockquote><blockquote class="alectryon-message">andb_true_intro:
  <span class="kr">forall</span> [b1 b2 : bool],
  b1 = true /\ b2 = true -&gt; (b1 &amp;&amp; b2)%bool = true</blockquote><blockquote class="alectryon-message">Bool.andb_true_eq:
  <span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : bool,
  true = (a &amp;&amp; b)%bool -&gt; true = a /\ true = b</blockquote><blockquote class="alectryon-message">Bool.andb_true_iff:
  <span class="kr">forall</span> <span class="nv">b1</span> <span class="nv">b2</span> : bool,
  (b1 &amp;&amp; b2)%bool = true &lt;-&gt; b1 = true /\ b2 = true</blockquote></div></div></small></span></pre><div class="doc">
Some of them are <i>qualified</i> with the <span class="inlinecode"><span class="id" title="var">Bool</span>.</span> prefix, these come from
    <span class="inlinecode"><span class="id" title="var">Coq.Bool.Bool</span></span>. Others have short names, these come from one of the
    <span class="inlinecode"><span class="id" title="var">Coq.Init</span></span> files.

<div class="paragraph"> </div>

    Using the <span class="inlinecode"><span class="id" title="keyword">About</span></span> command gives us their locations. 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk4" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk4"><span class="kn">About</span> andb_prop.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">andb_prop :
<span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : bool,
(a &amp;&amp; b)%bool = true -&gt; a = true /\ b = true

andb_prop <span class="kr">is</span> not universe polymorphic
<span class="kn">Arguments</span> andb_prop (a b)%bool_scope _
andb_prop <span class="kr">is</span> opaque
Expands to: Constant Coq.Init.Datatypes.andb_prop</blockquote></div></div></small></span></pre><div class="doc">
Now let's take a look at <span class="inlinecode"><span class="id" title="var">Bool.andb_true_l</span></span>
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk5" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk5"><span class="kn">About</span> Bool.andb_true_l.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">Bool.andb_true_l :
<span class="kr">forall</span> <span class="nv">b</span> : bool, (true &amp;&amp; b)%bool = b

Bool.andb_true_l <span class="kr">is</span> not universe polymorphic
<span class="kn">Arguments</span> Bool.andb_true_l b%bool_scope
Bool.andb_true_l <span class="kr">is</span> opaque
Expands to: Constant Coq.Bool.Bool.andb_true_l</blockquote></div></div></small></span></pre><div class="doc">
We see that it expands to <span class="inlinecode"><span class="id" title="var">Coq.Bool.Bool.andb_true_l</span></span>. This is the internal
    name Coq uses to distinguish it from any other constant.
    We call it an <i>absolutely qualified identifier</i> or <i>fully qualified
    identifier</i>.

<div class="paragraph"> </div>

    This is a technical but important notion, so we should take some time to
    describe this identifier. There are several parts separated by dots.
<ul class="doclist">
<li> The first part is Coq: it is the <i>logical name</i> of the library. Other
      mechanisms (for instance a <span class="inlinecode"><span class="id" title="var">_CoqProject</span></span> file, or <span class="inlinecode">-<span class="id" title="var">R</span></span> and <span class="inlinecode">-<span class="id" title="var">Q</span></span> options
      for <span class="inlinecode"><span class="id" title="var">coqc</span></span>, locations which are known by <span class="inlinecode"><span class="id" title="var">coqc</span></span>, such as the output of
      <span class="inlinecode"><span class="id" title="var">coqc</span></span> <span class="inlinecode">-<span class="id" title="keyword">where</span></span>, ...) associate a logical name to a physical directory
      in the user's system which is the root directory of this library.

</li>
<li> The second and third part correspond to the path of the file (relative to
      the root of the library) containing the identifier in the given library,
      in our case, on a Unix family system, it corresponds to <span class="inlinecode"><span class="id" title="var">Bool</span>/<span class="id" title="var">Bool.vo</span></span>.

</li>
</ul>
<div class="paragraph"> </div>

    Now, at this point, <span class="inlinecode"><span class="id" title="var">Coq.Bool.Bool</span></span> is the last required library file
    called <span class="inlinecode"><span class="id" title="var">Bool</span></span> containing a constant named <span class="inlinecode"><span class="id" title="var">andb_true_l</span></span>, so Coq accepts
    (and prints) as a shorter <i>partially qualified</i> the identifier
    <span class="inlinecode"><span class="id" title="var">Bool.andb_true_l</span></span>.

<div class="paragraph"> </div>

    Another valid partially qualified identifier for the same constant is
    <span class="inlinecode"><span class="id" title="var">Bool.Bool.andb_true_l</span></span>.

<div class="paragraph"> </div>

    All these identifiers refer to the same constant: 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk6" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk6"><span class="kn">About</span> Coq.Bool.Bool.andb_true_l.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">Bool.andb_true_l :
<span class="kr">forall</span> <span class="nv">b</span> : bool, (true &amp;&amp; b)%bool = b

Bool.andb_true_l <span class="kr">is</span> not universe polymorphic
<span class="kn">Arguments</span> Bool.andb_true_l b%bool_scope
Bool.andb_true_l <span class="kr">is</span> opaque
Expands to: Constant Coq.Bool.Bool.andb_true_l</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk7" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk7"><span class="kn">About</span> Bool.Bool.andb_true_l.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">Bool.andb_true_l :
<span class="kr">forall</span> <span class="nv">b</span> : bool, (true &amp;&amp; b)%bool = b

Bool.andb_true_l <span class="kr">is</span> not universe polymorphic
<span class="kn">Arguments</span> Bool.andb_true_l b%bool_scope
Bool.andb_true_l <span class="kr">is</span> opaque
Expands to: Constant Coq.Bool.Bool.andb_true_l</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk8" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk8"><span class="kn">About</span> Bool.andb_true_l.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">Bool.andb_true_l :
<span class="kr">forall</span> <span class="nv">b</span> : bool, (true &amp;&amp; b)%bool = b

Bool.andb_true_l <span class="kr">is</span> not universe polymorphic
<span class="kn">Arguments</span> Bool.andb_true_l b%bool_scope
Bool.andb_true_l <span class="kr">is</span> opaque
Expands to: Constant Coq.Bool.Bool.andb_true_l</blockquote></div></div></small></span></pre><div class="doc">
However, at this point Coq does not accept the unqualified <span class="inlinecode"><span class="id" title="var">andb_true_l</span></span> as
    a valid identifier: 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk9" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk9"><span class="kn">Fail</span> <span class="kn">Check</span> andb_true_l.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">The command has indeed failed <span class="kr">with</span> message:
The reference andb_true_l was not found <span class="kr">in</span> the current
environment.</blockquote></div></div></small></span></pre><div class="doc">
Coq does not allow us to use this <i>short name</i> automatically because it
    risks to silently shadow another constant with the same short name. 
</div><div class="doc">
The <span class="inlinecode"><span class="id" title="keyword">Locate</span></span> command shows all constants associated to an unqualified
    identifier and how to refer to it in the shortest way possible. 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chka" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chka"><span class="kn">Locate</span> andb_true_l.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">Constant Coq.Bool.Bool.andb_true_l
  (shorter name to refer to it <span class="kr">in</span> current <span class="kp">context</span> <span class="kr">is</span> Bool.andb_true_l)</blockquote></div></div></small></span></pre><div class="doc">
If we want to use such a <i>short name</i>, we need to <span class="inlinecode"><span class="id" title="keyword">Import</span></span> the <span class="inlinecode"><span class="id" title="var">Bool</span></span>
    module (yes, we said module here and not library file, more about this
    later). 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Import</span> Bool.</span></span></pre><div class="doc">
Now we can refer to the constants in <span class="inlinecode"><span class="id" title="var">Bool</span></span> with their short names. 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chkb" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chkb"><span class="kn">Check</span> andb_true_l.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">andb_true_l
     : <span class="kr">forall</span> <span class="nv">b</span> : bool, true &amp;&amp; b = b</blockquote></div></div></small></span></pre><div class="doc">
Coq will also display short names in its messages: 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chkc" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chkc"><span class="kn">Search</span> andb true.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">andb_true_l: <span class="kr">forall</span> <span class="nv">b</span> : bool, true &amp;&amp; b = b</blockquote><blockquote class="alectryon-message">andb_true_r: <span class="kr">forall</span> <span class="nv">b</span> : bool, b &amp;&amp; true = b</blockquote><blockquote class="alectryon-message">andb_prop:
  <span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : bool,
  a &amp;&amp; b = true -&gt; a = true /\ b = true</blockquote><blockquote class="alectryon-message">andb_true_intro:
  <span class="kr">forall</span> [b1 b2 : bool],
  b1 = true /\ b2 = true -&gt; b1 &amp;&amp; b2 = true</blockquote><blockquote class="alectryon-message">andb_true_eq:
  <span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : bool,
  true = a &amp;&amp; b -&gt; true = a /\ true = b</blockquote><blockquote class="alectryon-message">andb_true_iff:
  <span class="kr">forall</span> <span class="nv">b1</span> <span class="nv">b2</span> : bool,
  b1 &amp;&amp; b2 = true &lt;-&gt; b1 = true /\ b2 = true</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chkd" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chkd"><span class="kn">Search</span> andb true <span class="kn">inside</span> Bool.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">andb_true_l: <span class="kr">forall</span> <span class="nv">b</span> : bool, true &amp;&amp; b = b</blockquote><blockquote class="alectryon-message">andb_true_r: <span class="kr">forall</span> <span class="nv">b</span> : bool, b &amp;&amp; true = b</blockquote><blockquote class="alectryon-message">andb_true_eq:
  <span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : bool,
  true = a &amp;&amp; b -&gt; true = a /\ true = b</blockquote><blockquote class="alectryon-message">andb_true_iff:
  <span class="kr">forall</span> <span class="nv">b1</span> <span class="nv">b2</span> : bool,
  b1 &amp;&amp; b2 = true &lt;-&gt; b1 = true /\ b2 = true</blockquote></div></div></small></span></pre><div class="doc">
In passing, we have <span class="inlinecode"><span class="id" title="keyword">Import</span></span>ed <span class="inlinecode"><span class="id" title="var">Bool</span></span> with a small unqualified name because
    there was no confusion: 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chke" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chke"><span class="kn">Locate</span> Bool.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message"><span class="kn">Module</span> <span class="nf">Coq</span>.Bool.Bool</blockquote></div></div></small></span></pre><div class="doc">
But we can refer to the <span class="inlinecode"><span class="id" title="var">Bool</span></span> with a more qualified name too: 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chkf" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chkf"><span class="kn">About</span> Bool.Bool.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message"><span class="kn">Module</span> <span class="nf">Coq</span>.Bool.Bool</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk10" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk10"><span class="kn">About</span> Coq.Bool.Bool.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message"><span class="kn">Module</span> <span class="nf">Coq</span>.Bool.Bool</blockquote></div></div></small></span></pre><div class="doc">
In fact, most users prefer short names to fully qualified names so, in
    practice, one usually <span class="inlinecode"><span class="id" title="keyword">Require</span></span>s and <span class="inlinecode"><span class="id" title="keyword">Import</span></span>s a file at the same time.
    This is done, for instance, with the syntax:
    <span class="inlinecode"><span class="id" title="keyword">From</span></span> <span class="inlinecode"><span class="id" title="var">Coq</span></span> <span class="inlinecode"><span class="id" title="keyword">Require</span></span> <span class="inlinecode"><span class="id" title="keyword">Import</span></span> <span class="inlinecode"><span class="id" title="var">Bool.Bool</span>.</span>
<div class="paragraph"> </div>

    In passing, there are many more possibilities to <span class="inlinecode"><span class="id" title="keyword">Require</span></span> (with or with
    <span class="inlinecode"><span class="id" title="keyword">Import</span></span>) a library file.
    The fully qualified name of this file is <span class="inlinecode"><span class="id" title="var">Coq.Bool.Bool</span></span>, and one can
    factor any prefix in the <span class="inlinecode"><span class="id" title="keyword">From</span></span> part of the command, so the following
    command achieves the same goal:
    <span class="inlinecode"><span class="id" title="keyword">From</span></span> <span class="inlinecode"><span class="id" title="var">Coq.Bool</span></span> <span class="inlinecode"><span class="id" title="keyword">Require</span></span> <span class="inlinecode"><span class="id" title="keyword">Import</span></span> <span class="inlinecode"><span class="id" title="var">Bool</span>.</span>
    or, with an empty <span class="inlinecode"><span class="id" title="keyword">From</span></span> part:
    <span class="inlinecode"><span class="id" title="keyword">Require</span></span> <span class="inlinecode"><span class="id" title="keyword">Import</span></span> <span class="inlinecode"><span class="id" title="var">Coq.Bool.Bool</span>.</span>
<div class="paragraph"> </div>

    In fact, the <span class="inlinecode"><span class="id" title="keyword">From</span></span> part is mostly a convenience to require multiple parts
    from a common library or sublibrary. For instance, if one uses the mathcomp
    library, the single line:
    <span class="inlinecode"><span class="id" title="keyword">From</span></span> <span class="inlinecode"><span class="id" title="var">mathcomp</span></span> <span class="inlinecode"><span class="id" title="keyword">Require</span></span> <span class="inlinecode"><span class="id" title="keyword">Import</span></span> <span class="inlinecode"><span class="id" title="var">ssreflect</span></span> <span class="inlinecode"><span class="id" title="var">ssrfun</span></span> <span class="inlinecode"><span class="id" title="var">ssrbool</span></span> <span class="inlinecode"><span class="id" title="var">eqtype</span></span> <span class="inlinecode"><span class="id" title="var">ssrnat</span></span> <span class="inlinecode"><span class="id" title="var">seq</span>.</span>
    loads and imports 6 files from the mathcomp library.

<div class="paragraph"> </div>

    If there is no confusion, it is even possible to omit the directory (or
    directories) part. In our case there is only one file <span class="inlinecode"><span class="id" title="var">Bool.vo</span></span> in all
    Coq's standard library, so we could also have used
    <span class="inlinecode"><span class="id" title="keyword">From</span></span> <span class="inlinecode"><span class="id" title="var">Coq</span></span> <span class="inlinecode"><span class="id" title="keyword">Require</span></span> <span class="inlinecode"><span class="id" title="keyword">Import</span></span> <span class="inlinecode"><span class="id" title="var">Bool</span>.</span>
<div class="paragraph"> </div>

    What to choose is then mostly a matter of taste (and clearly depends on the
    number of files in the library). 
</div><div class="doc">
<a id="basic-modules-and-the-import-command"></a><h3 class="section">Basic modules and the <span class="inlinecode"><span class="id" title="keyword">Import</span></span> command</h3>
</div><div class="doc">
We will use modules here mostly because they will help us understand how
    to get what we want from library files (and reject, if possible, what we
    don't want). 
</div><div class="doc">
For now let us consider a very simple module: 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Module</span> <span class="nf">Foo</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">foo</span> := <span class="mi">42</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk11" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk11"><span class="kn">Lemma</span> <span class="nf">bar</span> : <span class="mi">21</span> * <span class="mi">2</span> = foo.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">21</span> * <span class="mi">2</span> = foo</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk12" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk12"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">21</span> * <span class="mi">2</span> = foo</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk13" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk13"><span class="kn">Lemma</span> <span class="nf">baz</span> : <span class="mi">21</span> + <span class="mi">21</span> = foo.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">21</span> + <span class="mi">21</span> = foo</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk14" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk14"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">21</span> + <span class="mi">21</span> = foo</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">Foo</span>.</span></span></pre><div class="doc">
Such a module, written down explicitly with <span class="inlinecode"><span class="id" title="keyword">End</span></span> <span class="inlinecode"><span class="id" title="var">module_name</span></span> at the end
    is called an <i>interactive module</i>.
    Our module <span class="inlinecode"><span class="id" title="var">Foo</span></span> has 1 definition and 2 lemmas. It's printed out in the
    following way: 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk15" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk15"><span class="kn">Print Module</span> Foo.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message"><span class="kn">Module</span>
<span class="nf">Foo</span>
:= Struct
     <span class="kn">Definition</span> <span class="nf">foo</span> : nat.
     <span class="kn">Parameter</span> <span class="nv">bar</span> : <span class="mi">21</span> * <span class="mi">2</span> = foo.
     <span class="kn">Parameter</span> <span class="nv">baz</span> : <span class="mi">21</span> + <span class="mi">21</span> = foo.
   <span class="kn">End</span></blockquote></div></div></small></span></pre><div class="doc">
Notice that, surprisingly, the too lemmas are printed as <span class="inlinecode"><span class="id" title="keyword">Parameter</span></span>s, but
    they really are actual lemmas.

<div class="paragraph"> </div>

    We can access the content of the module with the dot syntax. 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk16" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk16"><span class="kn">Print</span> Foo.foo.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">Foo.foo = <span class="mi">42</span>
     : nat</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk17" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk17"><span class="kn">Check</span> Foo.bar.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">Foo.bar
     : <span class="mi">21</span> * <span class="mi">2</span> = Foo.foo</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk18" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk18"><span class="kn">Check</span> Foo.baz.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">Foo.baz
     : <span class="mi">21</span> + <span class="mi">21</span> = Foo.foo</blockquote></div></div></small></span></pre><div class="doc">
<span class="inlinecode"><span class="id" title="var">Foo.bar</span></span> and <span class="inlinecode"><span class="id" title="var">Foo.baz</span></span> are not <span class="inlinecode"><span class="id" title="keyword">Parameters</span></span> or <span class="inlinecode"><span class="id" title="keyword">Axioms</span></span>: the following
    <span class="inlinecode"><span class="id" title="keyword">Print</span></span> <span class="inlinecode"><span class="id" title="keyword">Assumptions</span></span> commands show that they are "closed under the global
    context", that is they do not rely on any axiom and are indeed proved. 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk19" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk19"><span class="kn">Print Assumptions</span> Foo.bar.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">Closed <span class="nb">under</span> the <span class="kn">global</span> <span class="kp">context</span></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk1a" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk1a"><span class="kn">Print Assumptions</span> Foo.baz.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">Closed <span class="nb">under</span> the <span class="kn">global</span> <span class="kp">context</span></blockquote></div></div></small></span></pre><div class="doc">
But we cannot yet access them with short names: 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk1b" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk1b"><span class="kn">Fail</span> <span class="kn">Check</span> bar.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">The command has indeed failed <span class="kr">with</span> message:
The reference bar was not found <span class="kr">in</span> the current
environment.</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk1c" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk1c"><span class="kn">Locate</span> bar.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">Constant RequireImportTutorial.Foo.bar
  (shorter name to refer to it <span class="kr">in</span> current <span class="kp">context</span> <span class="kr">is</span> Foo.bar)</blockquote></div></div></small></span></pre><div class="doc">
The content of the module <span class="inlinecode"><span class="id" title="var">Foo</span></span> can be used just like any other definitions
    and lemmas 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk1d" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk1d"><span class="kn">Lemma</span> <span class="nf">forty</span> : Foo.foo - <span class="mi">2</span> = <span class="mi">40</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Foo.foo - <span class="mi">2</span> = <span class="mi">40</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk1e" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk1e"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Foo.foo - <span class="mi">2</span> = <span class="mi">40</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk1f" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk1f"><span class="nb">unfold</span> Foo.foo.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">42</span> - <span class="mi">2</span> = <span class="mi">40</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk20" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk20"><span class="nb">fold</span> Foo.foo.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Foo.foo - <span class="mi">2</span> = <span class="mi">40</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk21" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk21"><span class="nb">rewrite</span> &lt;-Foo.bar.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">21</span> * <span class="mi">2</span> - <span class="mi">2</span> = <span class="mi">40</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
This dot syntax is reminiscent of what we used for library files, and it is
    no accident. In fact,

<div class="paragraph"> </div>
<i>library files are modules</i>.

<div class="paragraph"> </div>

    This is the most important fact to take home from this tutorial, and the
    main reason to study a part of Coq's module system.

<div class="paragraph"> </div>

    We can even print the content of library files, viewed as modules: 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk22" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk22"><span class="kn">Print Module</span> Coq.Bool.Bool.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message"><span class="kn">Module</span>
<span class="nf">Bool</span>
:= Struct
     <span class="kn">Definition</span> <span class="nf">Is_true</span> : bool -&gt; <span class="kt">Prop</span>.
     <span class="kn">Definition</span> <span class="nf">bool_dec</span> :
       <span class="kr">forall</span> <span class="nv">b1</span> <span class="nv">b2</span> : bool, {b1 = b2} + {b1 &lt;&gt; b2}.
     <span class="kn">Parameter</span> <span class="nv">diff_true_false</span> : true &lt;&gt; false.
     <span class="kn">Parameter</span> <span class="nv">diff_false_true</span> : false &lt;&gt; true.
     <span class="kn">Parameter</span> <span class="nv">eq_true_false_abs</span> :
       <span class="kr">forall</span> <span class="nv">b</span> : bool, b = true -&gt; b = false -&gt; <span class="kt">False</span>.
     <span class="kn">Parameter</span> <span class="nv">not_true_is_false</span> :
       <span class="kr">forall</span> <span class="nv">b</span> : bool, b &lt;&gt; true -&gt; b = false.
     <span class="kn">Parameter</span> <span class="nv">not_false_is_true</span> :
       <span class="kr">forall</span> <span class="nv">b</span> : bool, b &lt;&gt; false -&gt; b = true.
     <span class="kn">Parameter</span> <span class="nv">not_true_iff_false</span> :
       <span class="kr">forall</span> <span class="nv">b</span> : bool, b &lt;&gt; true &lt;-&gt; b = false.
     <span class="kn">Parameter</span> <span class="nv">not_false_iff_true</span> :
       <span class="kr">forall</span> <span class="nv">b</span> : bool, b &lt;&gt; false &lt;-&gt; b = true.
     <span class="kn">Definition</span> <span class="nf">le</span> : bool -&gt; bool -&gt; <span class="kt">Prop</span>.
     <span class="kn">Parameter</span> <span class="nv">le_implb</span> :
       <span class="kr">forall</span> <span class="nv">b1</span> <span class="nv">b2</span> : bool,
       Bool.le b1 b2 &lt;-&gt; implb b1 b2 = true.
     <span class="kn">Definition</span> <span class="nf">lt</span> : bool -&gt; bool -&gt; <span class="kt">Prop</span>.
     <span class="kn">Definition</span> <span class="nf">compare</span> : bool -&gt; bool -&gt; comparison.
     <span class="kn">Parameter</span> <span class="nv">compare_spec</span> :
       <span class="kr">forall</span> <span class="nv">b1</span> <span class="nv">b2</span> : bool,
       CompareSpec (b1 = b2) (Bool.lt b1 b2)
         (Bool.lt b2 b1) (Bool.<span class="nb">compare</span> b1 b2).
     <span class="kn">Definition</span> <span class="nf">eqb</span> : bool -&gt; bool -&gt; bool.
     <span class="kn">Parameter</span> <span class="nv">eqb_subst</span> :
       <span class="kr">forall</span> (<span class="nv">P</span> : bool -&gt; <span class="kt">Prop</span>) (<span class="nv">b1</span> <span class="nv">b2</span> : bool),
       eqb b1 b2 = true -&gt; P b1 -&gt; P b2.
     <span class="kn">Parameter</span> <span class="nv">eqb_reflx</span> :
       <span class="kr">forall</span> <span class="nv">b</span> : bool, eqb b b = true.
     <span class="kn">Parameter</span> <span class="nv">eqb_prop</span> :
       <span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : bool, eqb a b = true -&gt; a = b.
     <span class="kn">Parameter</span> <span class="nv">eqb_true_iff</span> :
       <span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : bool, eqb a b = true &lt;-&gt; a = b.
     <span class="kn">Definition</span> <span class="nf">Decidable_eq_bool</span> :
       <span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : bool,
       DecidableClass.Decidable (x = y).
     <span class="kn">Parameter</span> <span class="nv">eqb_false_iff</span> :
       <span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : bool, eqb a b = false &lt;-&gt; a &lt;&gt; b.
     <span class="kn">Definition</span> <span class="nf">ifb</span> : bool -&gt; bool -&gt; bool -&gt; bool.
     <span class="kn">Parameter</span> <span class="nv">negb_orb</span> :
       <span class="kr">forall</span> <span class="nv">b1</span> <span class="nv">b2</span> : bool,
       negb (b1 || b2) = negb b1 &amp;&amp; negb b2.
     <span class="kn">Parameter</span> <span class="nv">negb_andb</span> :
       <span class="kr">forall</span> <span class="nv">b1</span> <span class="nv">b2</span> : bool,
       negb (b1 &amp;&amp; b2) = negb b1 || negb b2.
     <span class="kn">Parameter</span> <span class="nv">negb_involutive</span> :
       <span class="kr">forall</span> <span class="nv">b</span> : bool, negb (negb b) = b.
     <span class="kn">Parameter</span> <span class="nv">negb_involutive_reverse</span> :
       <span class="kr">forall</span> <span class="nv">b</span> : bool, b = negb (negb b).
     <span class="kn">Parameter</span> <span class="nv">negb_sym</span> :
       <span class="kr">forall</span> <span class="nv">b</span> <span class="nv">b&#39;</span> : bool, b&#39; = negb b -&gt; b = negb b&#39;.
     <span class="kn">Parameter</span> <span class="nv">no_fixpoint_negb</span> :
       <span class="kr">forall</span> <span class="nv">b</span> : bool, negb b &lt;&gt; b.
     <span class="kn">Parameter</span> <span class="nv">eqb_negb1</span> :
       <span class="kr">forall</span> <span class="nv">b</span> : bool, eqb (negb b) b = false.
     <span class="kn">Parameter</span> <span class="nv">eqb_negb2</span> :
       <span class="kr">forall</span> <span class="nv">b</span> : bool, eqb b (negb b) = false.
     <span class="kn">Parameter</span> <span class="nv">if_negb</span> :
       <span class="kr">forall</span> (<span class="nv">A</span> : <span class="kt">Type</span>) (<span class="nv">b</span> : bool) (<span class="nv">x</span> <span class="nv">y</span> : A),
       (<span class="kr">if</span> negb b <span class="kr">then</span> x <span class="kr">else</span> y) =
       (<span class="kr">if</span> b <span class="kr">then</span> y <span class="kr">else</span> x).
     <span class="kn">Parameter</span> <span class="nv">negb_true_iff</span> :
       <span class="kr">forall</span> <span class="nv">b</span> : bool, negb b = true &lt;-&gt; b = false.
     <span class="kn">Parameter</span> <span class="nv">negb_false_iff</span> :
       <span class="kr">forall</span> <span class="nv">b</span> : bool, negb b = false &lt;-&gt; b = true.
     <span class="kn">Parameter</span> <span class="nv">orb_true_iff</span> :
       <span class="kr">forall</span> <span class="nv">b1</span> <span class="nv">b2</span> : bool,
       b1 || b2 = true &lt;-&gt; b1 = true \/ b2 = true.
     <span class="kn">Parameter</span> <span class="nv">orb_false_iff</span> :
       <span class="kr">forall</span> <span class="nv">b1</span> <span class="nv">b2</span> : bool,
       b1 || b2 = false &lt;-&gt; b1 = false /\ b2 = false.
     <span class="kn">Definition</span> <span class="nf">orb_true_elim</span> :
       <span class="kr">forall</span> <span class="nv">b1</span> <span class="nv">b2</span> : bool,
       b1 || b2 = true -&gt; {b1 = true} + {b2 = true}.
     <span class="kn">Parameter</span> <span class="nv">orb_prop</span> :
       <span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : bool,
       a || b = true -&gt; a = true \/ b = true.
     <span class="kn">Parameter</span> <span class="nv">orb_true_intro</span> :
       <span class="kr">forall</span> <span class="nv">b1</span> <span class="nv">b2</span> : bool,
       b1 = true \/ b2 = true -&gt; b1 || b2 = true.
     <span class="kn">Parameter</span> <span class="nv">orb_false_intro</span> :
       <span class="kr">forall</span> <span class="nv">b1</span> <span class="nv">b2</span> : bool,
       b1 = false -&gt; b2 = false -&gt; b1 || b2 = false.
     <span class="kn">Parameter</span> <span class="nv">orb_false_elim</span> :
       <span class="kr">forall</span> <span class="nv">b1</span> <span class="nv">b2</span> : bool,
       b1 || b2 = false -&gt; b1 = false /\ b2 = false.
     <span class="kn">Parameter</span> <span class="nv">orb_diag</span> : <span class="kr">forall</span> <span class="nv">b</span> : bool, b || b = b.
     <span class="kn">Parameter</span> <span class="nv">orb_true_r</span> :
       <span class="kr">forall</span> <span class="nv">b</span> : bool, b || true = true.
     <span class="kn">Parameter</span> <span class="nv">orb_true_l</span> :
       <span class="kr">forall</span> <span class="nv">b</span> : bool, true || b = true.
     <span class="kn">Parameter</span> <span class="nv">orb_false_r</span> :
       <span class="kr">forall</span> <span class="nv">b</span> : bool, b || false = b.
     <span class="kn">Parameter</span> <span class="nv">orb_false_l</span> :
       <span class="kr">forall</span> <span class="nv">b</span> : bool, false || b = b.
     <span class="kn">Parameter</span> <span class="nv">orb_negb_r</span> :
       <span class="kr">forall</span> <span class="nv">b</span> : bool, b || negb b = true.
     <span class="kn">Parameter</span> <span class="nv">orb_negb_l</span> :
       <span class="kr">forall</span> <span class="nv">b</span> : bool, negb b || b = true.
     <span class="kn">Parameter</span> <span class="nv">orb_comm</span> :
       <span class="kr">forall</span> <span class="nv">b1</span> <span class="nv">b2</span> : bool, b1 || b2 = b2 || b1.
     <span class="kn">Parameter</span> <span class="nv">orb_assoc</span> :
       <span class="kr">forall</span> <span class="nv">b1</span> <span class="nv">b2</span> <span class="nv">b3</span> : bool,
       b1 || (b2 || b3) = b1 || b2 || b3.
     <span class="kn">Parameter</span> <span class="nv">andb_true_iff</span> :
       <span class="kr">forall</span> <span class="nv">b1</span> <span class="nv">b2</span> : bool,
       b1 &amp;&amp; b2 = true &lt;-&gt; b1 = true /\ b2 = true.
     <span class="kn">Parameter</span> <span class="nv">andb_false_iff</span> :
       <span class="kr">forall</span> <span class="nv">b1</span> <span class="nv">b2</span> : bool,
       b1 &amp;&amp; b2 = false &lt;-&gt; b1 = false \/ b2 = false.
     <span class="kn">Definition</span> <span class="nf">andb_true_eq</span> :
       <span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : bool,
       true = a &amp;&amp; b -&gt; true = a /\ true = b.
     <span class="kn">Parameter</span> <span class="nv">andb_false_intro1</span> :
       <span class="kr">forall</span> <span class="nv">b1</span> <span class="nv">b2</span> : bool,
       b1 = false -&gt; b1 &amp;&amp; b2 = false.
     <span class="kn">Parameter</span> <span class="nv">andb_false_intro2</span> :
       <span class="kr">forall</span> <span class="nv">b1</span> <span class="nv">b2</span> : bool,
       b2 = false -&gt; b1 &amp;&amp; b2 = false.
     <span class="kn">Parameter</span> <span class="nv">andb_false_r</span> :
       <span class="kr">forall</span> <span class="nv">b</span> : bool, b &amp;&amp; false = false.
     <span class="kn">Parameter</span> <span class="nv">andb_false_l</span> :
       <span class="kr">forall</span> <span class="nv">b</span> : bool, false &amp;&amp; b = false.
     <span class="kn">Parameter</span> <span class="nv">andb_diag</span> :
       <span class="kr">forall</span> <span class="nv">b</span> : bool, b &amp;&amp; b = b.
     <span class="kn">Parameter</span> <span class="nv">andb_true_r</span> :
       <span class="kr">forall</span> <span class="nv">b</span> : bool, b &amp;&amp; true = b.
     <span class="kn">Parameter</span> <span class="nv">andb_true_l</span> :
       <span class="kr">forall</span> <span class="nv">b</span> : bool, true &amp;&amp; b = b.
     <span class="kn">Definition</span> <span class="nf">andb_false_elim</span> :
       <span class="kr">forall</span> <span class="nv">b1</span> <span class="nv">b2</span> : bool,
       b1 &amp;&amp; b2 = false -&gt; {b1 = false} + {b2 = false}.
     <span class="kn">Parameter</span> <span class="nv">andb_negb_r</span> :
       <span class="kr">forall</span> <span class="nv">b</span> : bool, b &amp;&amp; negb b = false.
     <span class="kn">Parameter</span> <span class="nv">andb_negb_l</span> :
       <span class="kr">forall</span> <span class="nv">b</span> : bool, negb b &amp;&amp; b = false.
     <span class="kn">Parameter</span> <span class="nv">andb_comm</span> :
       <span class="kr">forall</span> <span class="nv">b1</span> <span class="nv">b2</span> : bool, b1 &amp;&amp; b2 = b2 &amp;&amp; b1.
     <span class="kn">Parameter</span> <span class="nv">andb_assoc</span> :
       <span class="kr">forall</span> <span class="nv">b1</span> <span class="nv">b2</span> <span class="nv">b3</span> : bool,
       b1 &amp;&amp; (b2 &amp;&amp; b3) = b1 &amp;&amp; b2 &amp;&amp; b3.
     <span class="kn">Parameter</span> <span class="nv">andb_orb_distrib_r</span> :
       <span class="kr">forall</span> <span class="nv">b1</span> <span class="nv">b2</span> <span class="nv">b3</span> : bool,
       b1 &amp;&amp; (b2 || b3) = b1 &amp;&amp; b2 || b1 &amp;&amp; b3.
     <span class="kn">Parameter</span> <span class="nv">andb_orb_distrib_l</span> :
       <span class="kr">forall</span> <span class="nv">b1</span> <span class="nv">b2</span> <span class="nv">b3</span> : bool,
       (b1 || b2) &amp;&amp; b3 = b1 &amp;&amp; b3 || b2 &amp;&amp; b3.
     <span class="kn">Parameter</span> <span class="nv">orb_andb_distrib_r</span> :
       <span class="kr">forall</span> <span class="nv">b1</span> <span class="nv">b2</span> <span class="nv">b3</span> : bool,
       b1 || b2 &amp;&amp; b3 = (b1 || b2) &amp;&amp; (b1 || b3).
     <span class="kn">Parameter</span> <span class="nv">orb_andb_distrib_l</span> :
       <span class="kr">forall</span> <span class="nv">b1</span> <span class="nv">b2</span> <span class="nv">b3</span> : bool,
       b1 &amp;&amp; b2 || b3 = (b1 || b3) &amp;&amp; (b2 || b3).
     <span class="kn">Parameter</span> <span class="nv">absorption_andb</span> :
       <span class="kr">forall</span> <span class="nv">b1</span> <span class="nv">b2</span> : bool, b1 &amp;&amp; (b1 || b2) = b1.
     <span class="kn">Parameter</span> <span class="nv">absorption_orb</span> :
       <span class="kr">forall</span> <span class="nv">b1</span> <span class="nv">b2</span> : bool, b1 || b1 &amp;&amp; b2 = b1.
     <span class="kn">Parameter</span> <span class="nv">implb_true_iff</span> :
       <span class="kr">forall</span> <span class="nv">b1</span> <span class="nv">b2</span> : bool,
       implb b1 b2 = true &lt;-&gt; (b1 = true -&gt; b2 = true).
     <span class="kn">Parameter</span> <span class="nv">implb_false_iff</span> :
       <span class="kr">forall</span> <span class="nv">b1</span> <span class="nv">b2</span> : bool,
       implb b1 b2 = false &lt;-&gt; b1 = true /\ b2 = false.
     <span class="kn">Parameter</span> <span class="nv">implb_orb</span> :
       <span class="kr">forall</span> <span class="nv">b1</span> <span class="nv">b2</span> : bool,
       implb b1 b2 = negb b1 || b2.
     <span class="kn">Parameter</span> <span class="nv">implb_negb_orb</span> :
       <span class="kr">forall</span> <span class="nv">b1</span> <span class="nv">b2</span> : bool,
       implb (negb b1) b2 = b1 || b2.
     <span class="kn">Parameter</span> <span class="nv">implb_true_r</span> :
       <span class="kr">forall</span> <span class="nv">b</span> : bool, implb b true = true.
     <span class="kn">Parameter</span> <span class="nv">implb_false_r</span> :
       <span class="kr">forall</span> <span class="nv">b</span> : bool, implb b false = negb b.
     <span class="kn">Parameter</span> <span class="nv">implb_true_l</span> :
       <span class="kr">forall</span> <span class="nv">b</span> : bool, implb true b = b.
     <span class="kn">Parameter</span> <span class="nv">implb_false_l</span> :
       <span class="kr">forall</span> <span class="nv">b</span> : bool, implb false b = true.
     <span class="kn">Parameter</span> <span class="nv">implb_same</span> :
       <span class="kr">forall</span> <span class="nv">b</span> : bool, implb b b = true.
     <span class="kn">Parameter</span> <span class="nv">implb_contrapositive</span> :
       <span class="kr">forall</span> <span class="nv">b1</span> <span class="nv">b2</span> : bool,
       implb (negb b1) (negb b2) = implb b2 b1.
     <span class="kn">Parameter</span> <span class="nv">implb_negb</span> :
       <span class="kr">forall</span> <span class="nv">b1</span> <span class="nv">b2</span> : bool,
       implb (negb b1) b2 = implb (negb b2) b1.
     <span class="kn">Parameter</span> <span class="nv">implb_curry</span> :
       <span class="kr">forall</span> <span class="nv">b1</span> <span class="nv">b2</span> <span class="nv">b3</span> : bool,
       implb (b1 &amp;&amp; b2) b3 = implb b1 (implb b2 b3).
     <span class="kn">Parameter</span> <span class="nv">implb_andb_distrib_r</span> :
       <span class="kr">forall</span> <span class="nv">b1</span> <span class="nv">b2</span> <span class="nv">b3</span> : bool,
       implb b1 (b2 &amp;&amp; b3) =
       implb b1 b2 &amp;&amp; implb b1 b3.
     <span class="kn">Parameter</span> <span class="nv">implb_orb_distrib_r</span> :
       <span class="kr">forall</span> <span class="nv">b1</span> <span class="nv">b2</span> <span class="nv">b3</span> : bool,
       implb b1 (b2 || b3) =
       implb b1 b2 || implb b1 b3.
     <span class="kn">Parameter</span> <span class="nv">implb_orb_distrib_l</span> :
       <span class="kr">forall</span> <span class="nv">b1</span> <span class="nv">b2</span> <span class="nv">b3</span> : bool,
       implb (b1 || b2) b3 =
       implb b1 b3 &amp;&amp; implb b2 b3.
     <span class="kn">Parameter</span> <span class="nv">xorb_false_r</span> :
       <span class="kr">forall</span> <span class="nv">b</span> : bool, xorb b false = b.
     <span class="kn">Parameter</span> <span class="nv">xorb_false_l</span> :
       <span class="kr">forall</span> <span class="nv">b</span> : bool, xorb false b = b.
     <span class="kn">Parameter</span> <span class="nv">xorb_true_r</span> :
       <span class="kr">forall</span> <span class="nv">b</span> : bool, xorb b true = negb b.
     <span class="kn">Parameter</span> <span class="nv">xorb_true_l</span> :
       <span class="kr">forall</span> <span class="nv">b</span> : bool, xorb true b = negb b.
     <span class="kn">Parameter</span> <span class="nv">xorb_nilpotent</span> :
       <span class="kr">forall</span> <span class="nv">b</span> : bool, xorb b b = false.
     <span class="kn">Parameter</span> <span class="nv">xorb_comm</span> :
       <span class="kr">forall</span> <span class="nv">b</span> <span class="nv">b&#39;</span> : bool, xorb b b&#39; = xorb b&#39; b.
     <span class="kn">Parameter</span> <span class="nv">xorb_assoc_reverse</span> :
       <span class="kr">forall</span> <span class="nv">b</span> <span class="nv">b&#39;</span> <span class="nv">b&#39;&#39;</span> : bool,
       xorb (xorb b b&#39;) b&#39;&#39; = xorb b (xorb b&#39; b&#39;&#39;).
     <span class="kn">Parameter</span> <span class="nv">xorb_eq</span> :
       <span class="kr">forall</span> <span class="nv">b</span> <span class="nv">b&#39;</span> : bool, xorb b b&#39; = false -&gt; b = b&#39;.
     <span class="kn">Parameter</span> <span class="nv">xorb_move_l_r_1</span> :
       <span class="kr">forall</span> <span class="nv">b</span> <span class="nv">b&#39;</span> <span class="nv">b&#39;&#39;</span> : bool,
       xorb b b&#39; = b&#39;&#39; -&gt; b&#39; = xorb b b&#39;&#39;.
     <span class="kn">Parameter</span> <span class="nv">xorb_move_l_r_2</span> :
       <span class="kr">forall</span> <span class="nv">b</span> <span class="nv">b&#39;</span> <span class="nv">b&#39;&#39;</span> : bool,
       xorb b b&#39; = b&#39;&#39; -&gt; b = xorb b&#39;&#39; b&#39;.
     <span class="kn">Parameter</span> <span class="nv">xorb_move_r_l_1</span> :
       <span class="kr">forall</span> <span class="nv">b</span> <span class="nv">b&#39;</span> <span class="nv">b&#39;&#39;</span> : bool,
       b = xorb b&#39; b&#39;&#39; -&gt; xorb b&#39; b = b&#39;&#39;.
     <span class="kn">Parameter</span> <span class="nv">xorb_move_r_l_2</span> :
       <span class="kr">forall</span> <span class="nv">b</span> <span class="nv">b&#39;</span> <span class="nv">b&#39;&#39;</span> : bool,
       b = xorb b&#39; b&#39;&#39; -&gt; xorb b b&#39;&#39; = b&#39;.
     <span class="kn">Parameter</span> <span class="nv">negb_xorb</span> :
       <span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : bool, negb (xorb a b) = eqb a b.
     <span class="kn">Parameter</span> <span class="nv">negb_xorb_l</span> :
       <span class="kr">forall</span> <span class="nv">b</span> <span class="nv">b&#39;</span> : bool,
       negb (xorb b b&#39;) = xorb (negb b) b&#39;.
     <span class="kn">Parameter</span> <span class="nv">negb_xorb_r</span> :
       <span class="kr">forall</span> <span class="nv">b</span> <span class="nv">b&#39;</span> : bool,
       negb (xorb b b&#39;) = xorb b (negb b&#39;).
     <span class="kn">Parameter</span> <span class="nv">xorb_negb_negb</span> :
       <span class="kr">forall</span> <span class="nv">b</span> <span class="nv">b&#39;</span> : bool,
       xorb (negb b) (negb b&#39;) = xorb b b&#39;.
     <span class="kn">Parameter</span> <span class="nv">eq_iff_eq_true</span> :
       <span class="kr">forall</span> <span class="nv">b1</span> <span class="nv">b2</span> : bool,
       b1 = b2 &lt;-&gt; (b1 = true &lt;-&gt; b2 = true).
     <span class="kn">Parameter</span> <span class="nv">eq_true_iff_eq</span> :
       <span class="kr">forall</span> <span class="nv">b1</span> <span class="nv">b2</span> : bool,
       b1 = true &lt;-&gt; b2 = true -&gt; b1 = b2.
     <span class="kn">Parameter</span> <span class="nv">eq_true_negb_classical</span> :
       <span class="kr">forall</span> <span class="nv">b</span> : bool, negb b &lt;&gt; true -&gt; b = true.
     <span class="kn">Parameter</span> <span class="nv">eq_true_negb_classical_iff</span> :
       <span class="kr">forall</span> <span class="nv">b</span> : bool, negb b &lt;&gt; true &lt;-&gt; b = true.
     <span class="kn">Parameter</span> <span class="nv">eq_true_not_negb</span> :
       <span class="kr">forall</span> <span class="nv">b</span> : bool, b &lt;&gt; true -&gt; negb b = true.
     <span class="kn">Parameter</span> <span class="nv">eq_true_not_negb_iff</span> :
       <span class="kr">forall</span> <span class="nv">b</span> : bool, b &lt;&gt; true &lt;-&gt; negb b = true.
     <span class="kn">Parameter</span> <span class="nv">absurd_eq_bool</span> :
       <span class="kr">forall</span> <span class="nv">b</span> <span class="nv">b&#39;</span> : bool, <span class="kt">False</span> -&gt; b = b&#39;.
     <span class="kn">Parameter</span> <span class="nv">absurd_eq_true</span> :
       <span class="kr">forall</span> <span class="nv">b</span> : bool, <span class="kt">False</span> -&gt; b = true.
     <span class="kn">Parameter</span> <span class="nv">trans_eq_bool</span> :
       <span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> <span class="nv">z</span> : bool, x = y -&gt; y = z -&gt; x = z.
     <span class="kn">Parameter</span> <span class="nv">Is_true_eq_true</span> :
       <span class="kr">forall</span> <span class="nv">x</span> : bool, Is_true x -&gt; x = true.
     <span class="kn">Parameter</span> <span class="nv">Is_true_eq_left</span> :
       <span class="kr">forall</span> <span class="nv">x</span> : bool, x = true -&gt; Is_true x.
     <span class="kn">Parameter</span> <span class="nv">Is_true_eq_right</span> :
       <span class="kr">forall</span> <span class="nv">x</span> : bool, true = x -&gt; Is_true x.
     <span class="kn">Parameter</span> <span class="nv">eqb_refl</span> :
       <span class="kr">forall</span> <span class="nv">x</span> : bool, Is_true (eqb x x).
     <span class="kn">Parameter</span> <span class="nv">eqb_eq</span> :
       <span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : bool, Is_true (eqb x y) -&gt; x = y.
     <span class="kn">Parameter</span> <span class="nv">orb_prop_elim</span> :
       <span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : bool,
       Is_true (a || b) -&gt; Is_true a \/ Is_true b.
     <span class="kn">Parameter</span> <span class="nv">orb_prop_intro</span> :
       <span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : bool,
       Is_true a \/ Is_true b -&gt; Is_true (a || b).
     <span class="kn">Parameter</span> <span class="nv">andb_prop_intro</span> :
       <span class="kr">forall</span> <span class="nv">b1</span> <span class="nv">b2</span> : bool,
       Is_true b1 /\ Is_true b2 -&gt; Is_true (b1 &amp;&amp; b2).
     <span class="kn">Parameter</span> <span class="nv">andb_prop_elim</span> :
       <span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : bool,
       Is_true (a &amp;&amp; b) -&gt; Is_true a /\ Is_true b.
     <span class="kn">Parameter</span> <span class="nv">eq_bool_prop_intro</span> :
       <span class="kr">forall</span> <span class="nv">b1</span> <span class="nv">b2</span> : bool,
       Is_true b1 &lt;-&gt; Is_true b2 -&gt; b1 = b2.
     <span class="kn">Parameter</span> <span class="nv">eq_bool_prop_elim</span> :
       <span class="kr">forall</span> <span class="nv">b1</span> <span class="nv">b2</span> : bool,
       b1 = b2 -&gt; Is_true b1 &lt;-&gt; Is_true b2.
     <span class="kn">Parameter</span> <span class="nv">negb_prop_elim</span> :
       <span class="kr">forall</span> <span class="nv">b</span> : bool,
       Is_true (negb b) -&gt; ~ Is_true b.
     <span class="kn">Parameter</span> <span class="nv">negb_prop_intro</span> :
       <span class="kr">forall</span> <span class="nv">b</span> : bool,
       ~ Is_true b -&gt; Is_true (negb b).
     <span class="kn">Parameter</span> <span class="nv">negb_prop_classical</span> :
       <span class="kr">forall</span> <span class="nv">b</span> : bool,
       ~ Is_true (negb b) -&gt; Is_true b.
     <span class="kn">Parameter</span> <span class="nv">negb_prop_involutive</span> :
       <span class="kr">forall</span> <span class="nv">b</span> : bool,
       Is_true b -&gt; ~ Is_true (negb b).
     <span class="kn">Parameter</span> <span class="nv">andb_if</span> :
       <span class="kr">forall</span> (<span class="nv">A</span> : <span class="kt">Type</span>) (<span class="nv">a</span> <span class="nv">a&#39;</span> : A) (<span class="nv">b</span> <span class="nv">b&#39;</span> : bool),
       (<span class="kr">if</span> b &amp;&amp; b&#39; <span class="kr">then</span> a <span class="kr">else</span> a&#39;) =
       (<span class="kr">if</span> b <span class="kr">then</span> <span class="kr">if</span> b&#39; <span class="kr">then</span> a <span class="kr">else</span> a&#39; <span class="kr">else</span> a&#39;).
     <span class="kn">Parameter</span> <span class="nv">negb_if</span> :
       <span class="kr">forall</span> (<span class="nv">A</span> : <span class="kt">Type</span>) (<span class="nv">a</span> <span class="nv">a&#39;</span> : A) (<span class="nv">b</span> : bool),
       (<span class="kr">if</span> negb b <span class="kr">then</span> a <span class="kr">else</span> a&#39;) =
       (<span class="kr">if</span> b <span class="kr">then</span> a&#39; <span class="kr">else</span> a).
     <span class="kn">Parameter</span> <span class="nv">andb_lazy_alt</span> :
       <span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : bool,
       a &amp;&amp; b = (<span class="kr">if</span> a <span class="kr">then</span> b <span class="kr">else</span> false).
     <span class="kn">Parameter</span> <span class="nv">orb_lazy_alt</span> :
       <span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : bool,
       a || b = (<span class="kr">if</span> a <span class="kr">then</span> true <span class="kr">else</span> b).
     <span class="kn">Inductive</span> <span class="nf">reflect</span> (<span class="nv">P</span> : <span class="kt">Prop</span>) : bool -&gt; <span class="kt">Set</span> :=
         ReflectT : P -&gt; reflect P true
       | ReflectF : ~ P -&gt; reflect P false.
     <span class="kn">Definition</span> <span class="nf">reflect_rect</span> :
       <span class="kr">forall</span> (<span class="nv">P</span> : <span class="kt">Prop</span>)
         (<span class="nv">P0</span> : <span class="kr">forall</span> <span class="nv">b</span> : bool, reflect P b -&gt; <span class="kt">Type</span>),
       (<span class="kr">forall</span> <span class="nv">p</span> : P, P0 true (ReflectT P p)) -&gt;
       (<span class="kr">forall</span> <span class="nv">n</span> : ~ P, P0 false (ReflectF P n)) -&gt;
       <span class="kr">forall</span> (<span class="nv">b</span> : bool) (<span class="nv">r</span> : reflect P b), P0 b r.
     <span class="kn">Definition</span> <span class="nf">reflect_ind</span> :
       <span class="kr">forall</span> (<span class="nv">P</span> : <span class="kt">Prop</span>)
         (<span class="nv">P0</span> : <span class="kr">forall</span> <span class="nv">b</span> : bool, reflect P b -&gt; <span class="kt">Prop</span>),
       (<span class="kr">forall</span> <span class="nv">p</span> : P, P0 true (ReflectT P p)) -&gt;
       (<span class="kr">forall</span> <span class="nv">n</span> : ~ P, P0 false (ReflectF P n)) -&gt;
       <span class="kr">forall</span> (<span class="nv">b</span> : bool) (<span class="nv">r</span> : reflect P b), P0 b r.
     <span class="kn">Definition</span> <span class="nf">reflect_rec</span> :
       <span class="kr">forall</span> (<span class="nv">P</span> : <span class="kt">Prop</span>)
         (<span class="nv">P0</span> : <span class="kr">forall</span> <span class="nv">b</span> : bool, reflect P b -&gt; <span class="kt">Set</span>),
       (<span class="kr">forall</span> <span class="nv">p</span> : P, P0 true (ReflectT P p)) -&gt;
       (<span class="kr">forall</span> <span class="nv">n</span> : ~ P, P0 false (ReflectF P n)) -&gt;
       <span class="kr">forall</span> (<span class="nv">b</span> : bool) (<span class="nv">r</span> : reflect P b), P0 b r.
     <span class="kn">Definition</span> <span class="nf">reflect_sind</span> :
       <span class="kr">forall</span> (<span class="nv">P</span> : <span class="kt">Prop</span>)
         (<span class="nv">P0</span> : <span class="kr">forall</span> <span class="nv">b</span> : bool, reflect P b -&gt; <span class="kt">SProp</span>),
       (<span class="kr">forall</span> <span class="nv">p</span> : P, P0 true (ReflectT P p)) -&gt;
       (<span class="kr">forall</span> <span class="nv">n</span> : ~ P, P0 false (ReflectF P n)) -&gt;
       <span class="kr">forall</span> (<span class="nv">b</span> : bool) (<span class="nv">r</span> : reflect P b), P0 b r.
     <span class="kn">Parameter</span> <span class="nv">reflect_iff</span> :
       <span class="kr">forall</span> (<span class="nv">P</span> : <span class="kt">Prop</span>) (<span class="nv">b</span> : bool),
       reflect P b -&gt; P &lt;-&gt; b = true.
     <span class="kn">Definition</span> <span class="nf">iff_reflect</span> :
       <span class="kr">forall</span> (<span class="nv">P</span> : <span class="kt">Prop</span>) (<span class="nv">b</span> : bool),
       P &lt;-&gt; b = true -&gt; reflect P b.
     <span class="kn">Definition</span> <span class="nf">reflect_dec</span> :
       <span class="kr">forall</span> (<span class="nv">P</span> : <span class="kt">Prop</span>) (<span class="nv">b</span> : bool),
       reflect P b -&gt; {P} + {~ P}.
     <span class="kn">Definition</span> <span class="nf">eqb_spec</span> :
       <span class="kr">forall</span> <span class="nv">b</span> <span class="nv">b&#39;</span> : bool, reflect (b = b&#39;) (eqb b b&#39;).
     <span class="kn">Module</span> <span class="nf">BoolNotations</span>
   <span class="kn">End</span></blockquote></div></div></small></span></pre><div class="doc">
<span class="inlinecode"><span class="id" title="keyword">Import</span></span> is actually a module command, so we can: 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Import</span> Foo.</span></span></pre><div class="doc">
Now that <span class="inlinecode"><span class="id" title="var">Foo</span></span> is <span class="inlinecode"><span class="id" title="keyword">Import</span></span>ed, we can access its content with short names: 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk23" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk23"><span class="kn">Check</span> bar.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">bar
     : <span class="mi">21</span> * <span class="mi">2</span> = foo</blockquote></div></div></small></span></pre><div class="doc">
To sum up without subtlety what we have learned so far:
<ul class="doclist">
<li> We <i><span class="inlinecode"><span class="id" title="keyword">Require</span></span> library files</i> to load their content.

</li>
<li> We <i><span class="inlinecode"><span class="id" title="keyword">Import</span></span> modules</i> to use short names for their content (among other
      things we will see shortly)

</li>
<li> <i>Library files are modules</i>. 

</li>
</ul>
</div><div class="doc">
<a id="name-clashes-and-disambiguation"></a><h3 class="section">Name clashes and disambiguation</h3>
</div><div class="doc">
When we <span class="inlinecode"><span class="id" title="keyword">Import</span></span>ed our <span class="inlinecode"><span class="id" title="var">Foo</span></span> module before, there was no possible name
    clash since no constant in our context were named <span class="inlinecode"><span class="id" title="var">foo</span></span>, <span class="inlinecode"><span class="id" title="var">bar</span></span> or <span class="inlinecode"><span class="id" title="var">baz</span></span>.

<div class="paragraph"> </div>

    In real life Coq, however, global contexts can be huge and there will
    be name clashes.

<div class="paragraph"> </div>

    So, what happens if we define and import the following module? 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Module</span> <span class="nf">OtherFoo</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">foo</span> := true.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">OtherFoo</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Import</span> OtherFoo.</span></span></pre><div class="doc">
First, Coq emits no error or warning, so this is a legit operation.
    What is <span class="inlinecode"><span class="id" title="var">foo</span></span> now? 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk24" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk24"><span class="kn">Print</span> foo.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">foo = true
     : bool</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk25" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk25"><span class="kn">About</span> foo.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">foo : bool

foo <span class="kr">is</span> not universe polymorphic
foo <span class="kr">is</span> transparent
Expands to: Constant
RequireImportTutorial.OtherFoo.foo</blockquote></div></div></small></span></pre><div class="doc">
Our <span class="inlinecode"><span class="id" title="var">OtherFoo.foo</span></span> identifier has actually <i>shadowed</i> <span class="inlinecode"><span class="id" title="var">Foo.foo</span></span>.

<div class="paragraph"> </div>

    To identify it, we now need to use a more qualified name. 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk26" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk26"><span class="kn">Print</span> Foo.foo.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">Foo.foo = <span class="mi">42</span>
     : nat</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk27" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk27"><span class="kn">About</span> Foo.foo.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">Foo.foo : nat

Foo.foo <span class="kr">is</span> not universe polymorphic
Foo.foo <span class="kr">is</span> transparent
Expands to: Constant RequireImportTutorial.Foo.foo</blockquote></div></div></small></span></pre><div class="doc">
The <span class="inlinecode"><span class="id" title="keyword">Locate</span></span> command shows the list of identifiers whose unqualified name
    is the given argument: 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk28" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk28"><span class="kn">Locate</span> foo.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">Constant RequireImportTutorial.OtherFoo.foo
Constant RequireImportTutorial.Foo.foo
  (shorter name to refer to it <span class="kr">in</span> current <span class="kp">context</span> <span class="kr">is</span> Foo.foo)</blockquote></div></div></small></span></pre><div class="doc">
The first item in the list is our <span class="inlinecode"><span class="id" title="var">OtherFoo.foo</span></span> constant, it is available
    by its short name. Next is <span class="inlinecode"><span class="id" title="var">Foo.foo</span></span> and Coq gives us the shortest partially
    qualified name to refer to it.

<div class="paragraph"> </div>

    What happens if we now <span class="inlinecode"><span class="id" title="keyword">Import</span></span> <span class="inlinecode"><span class="id" title="var">Foo</span></span> again? 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Import</span> Foo.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk29" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk29"><span class="kn">Print</span> foo.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">foo = <span class="mi">42</span>
     : nat</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk2a" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk2a"><span class="kn">About</span> foo.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">foo : nat

foo <span class="kr">is</span> not universe polymorphic
foo <span class="kr">is</span> transparent
Expands to: Constant RequireImportTutorial.Foo.foo</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk2b" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk2b"><span class="kn">Locate</span> foo.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">Constant RequireImportTutorial.Foo.foo
Constant RequireImportTutorial.OtherFoo.foo
  (shorter name to refer to it <span class="kr">in</span> current <span class="kp">context</span> <span class="kr">is</span> OtherFoo.foo)</blockquote></div></div></small></span></pre><div class="doc">
We have changed again to which constant refers the short name <span class="inlinecode"><span class="id" title="var">foo</span></span>!
    Our <span class="inlinecode"><span class="id" title="var">Foo.foo</span></span> constant is now the first item in our list of <span class="inlinecode"><span class="id" title="var">foo</span></span> constants.
    This changing short name resolution may look innocuous but it has a very
    important consequence:

<div class="paragraph"> </div>
<i>The order of the <span class="inlinecode"><span class="id" title="keyword">Import</span></span> commands matters, changing it can break things</i>.

</div><div class="doc">
Notice that one can always use more qualified names, so that the resulting
    code is independent of the <span class="inlinecode"><span class="id" title="keyword">Import</span></span> orders: 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk2c" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk2c"><span class="kn">Print</span> Foo.foo.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">foo = <span class="mi">42</span>
     : nat</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk2d" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk2d"><span class="kn">Print</span> OtherFoo.foo.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">OtherFoo.foo = true
     : bool</blockquote></div></div></small></span></pre><div class="doc">
Now, for a real life example, let us consider the library files
    <span class="inlinecode"><span class="id" title="var">Coq.Arith.PeanoNat</span></span> and <span class="inlinecode"><span class="id" title="var">Coq.ZArith.BinInt</span></span> which contain the bulk
    of Coq's standard library content for, respectively Peano natural numbers
    and (binary) integers. 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">From</span> Coq <span class="kn">Require Import</span> Arith.PeanoNat ZArith.BinInt.</span></span></pre><div class="doc">
Most of the results and operations are actually contained in the interactive
    (inner) modules <span class="inlinecode"><span class="id" title="var">PeanoNat.Nat</span></span> and <span class="inlinecode"><span class="id" title="var">BinInt.Z</span></span>. These inner modules are not
    imported, yet. 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk2e" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk2e"><span class="kn">Check</span> Nat.add_0_r.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">Nat.add_0_r
     : <span class="kr">forall</span> <span class="nv">n</span> : nat, n + <span class="mi">0</span> = n</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk2f" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk2f"><span class="kn">Check</span> Z.add_0_r.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">Z.add_0_r
     : <span class="kr">forall</span> <span class="nv">n</span> : Z, (n + <span class="mi">0</span>)%Z = n</blockquote></div></div></small></span></pre><div class="doc">
Notice that the name <span class="inlinecode"><span class="id" title="var">add_0_r</span></span> is used both for natural numbers and for
    integers, which seems right.

<div class="paragraph"> </div>

    At this point, <span class="inlinecode"><span class="id" title="var">add_0_r</span></span> does not refer to anything. 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk30" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk30"><span class="kn">Fail</span> <span class="kn">Check</span> add_0_r.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">The command has indeed failed <span class="kr">with</span> message:
The reference add_0_r was not found <span class="kr">in</span> the current
environment.</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk31" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk31"><span class="kn">Locate</span> add_0_r.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">Constant Coq.NArith.BinNat.N.add_0_r
  (shorter name to refer to it <span class="kr">in</span> current <span class="kp">context</span> <span class="kr">is</span> BinNat.N.add_0_r)
Constant Coq.Arith.PeanoNat.Nat.add_0_r
  (shorter name to refer to it <span class="kr">in</span> current <span class="kp">context</span> <span class="kr">is</span> Nat.add_0_r)
Constant Coq.ZArith.BinInt.Z.Private_BootStrap.add_0_r
  (shorter name to refer to it <span class="kr">in</span> current <span class="kp">context</span> <span class="kr">is</span> Z.Private_BootStrap.add_0_r)
Constant Coq.ZArith.BinInt.Z.add_0_r
  (shorter name to refer to it <span class="kr">in</span> current <span class="kp">context</span> <span class="kr">is</span> Z.add_0_r)</blockquote></div></div></small></span></pre><div class="doc">
We may choose to <span class="inlinecode"><span class="id" title="keyword">Import</span></span> <span class="inlinecode"><span class="id" title="var">Nat</span></span> if, for instance, our current development
    deals more with natural numbers than integers. 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Import</span> Nat.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk32" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk32"><span class="kn">Check</span> add_0_r.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">add_0_r
     : <span class="kr">forall</span> <span class="nv">n</span> : nat, n + <span class="mi">0</span> = n</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk33" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk33"><span class="kn">About</span> add_0_r.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">add_0_r : <span class="kr">forall</span> <span class="nv">n</span> : nat, n + <span class="mi">0</span> = n

add_0_r <span class="kr">is</span> not universe polymorphic
<span class="kn">Arguments</span> add_0_r n%nat_scope
add_0_r <span class="kr">is</span> opaque
Expands to: Constant Coq.Arith.PeanoNat.Nat.add_0_r</blockquote></div></div></small></span></pre><div class="doc">
We could even <span class="inlinecode"><span class="id" title="keyword">Import</span></span> both modules, but then beware that the order is
    important. 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Import</span> Z.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk34" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk34"><span class="kn">Check</span> add_0_r.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">add_0_r
     : <span class="kr">forall</span> <span class="nv">n</span> : Z, (n + <span class="mi">0</span>)%Z = n</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk35" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk35"><span class="kn">About</span> add_0_r.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">add_0_r : <span class="kr">forall</span> <span class="nv">n</span> : Z, (n + <span class="mi">0</span>)%Z = n

add_0_r <span class="kr">is</span> not universe polymorphic
<span class="kn">Arguments</span> add_0_r n%Z_scope
add_0_r <span class="kr">is</span> opaque
Expands to: Constant Coq.ZArith.BinInt.Z.add_0_r</blockquote></div></div></small></span></pre><div class="doc">
Another common choice is to <span class="inlinecode"><span class="id" title="keyword">Import</span></span> neither of them and use the <span class="inlinecode"><span class="id" title="var">Nat</span>.</span> and
    <span class="inlinecode"><span class="id" title="var">Z</span>.</span> prefixes as namespaces. This is a bit more verbose, but it is also
    easier to read. 
</div><div class="doc">
What happens if module names themselves clash?
    We actually are already in that case: 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk36" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk36"><span class="kn">About</span> Nat.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message"><span class="kn">Module</span> <span class="nf">Coq</span>.Arith.PeanoNat.Nat</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk37" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk37"><span class="kn">About</span> Coq.Init.Nat.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message"><span class="kn">Module</span> <span class="nf">Coq</span>.Init.Nat</blockquote></div></div></small></span></pre><div class="doc">
We have one module named <span class="inlinecode"><span class="id" title="var">Nat</span></span> in <span class="inlinecode"><span class="id" title="var">PeanoNat</span></span> and another one in the form
    of a library file in the <span class="inlinecode"><span class="id" title="var">Init</span></span> directory.
    The name of the module <span class="inlinecode"><span class="id" title="var">Coq.Init.Nat</span></span> was shadowed when we
    <span class="inlinecode"><span class="id" title="keyword">Import</span></span>ed the module <span class="inlinecode"><span class="id" title="var">Coq.Arith.PeanoNat</span></span>.

<div class="paragraph"> </div>

    As we have just seen, it suffices to qualify more the module which is
    shadowed if we want to explicitly refer to it. 
</div><div class="doc">
When two modules share the same name, there can be name clashes and
    shadowing if some of their constants have the same name. Let us illustrate
    it with nested modules.

<div class="paragraph"> </div>

    The situation would be similar if we required two library files with the
    same name in different libraries or directories (but we cannot illustrate
    this case conveniently in a single-file tutorial). 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Module</span> <span class="nf">NestedABC1</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Module</span> <span class="nf">ABC</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">alice</span> := <span class="mi">1</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">bob</span> := <span class="mi">1</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">ABC</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">NestedABC1</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Module</span> <span class="nf">NestedABC2</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Module</span> <span class="nf">ABC</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">alice</span> := <span class="mi">2</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">charlie</span> := <span class="mi">2</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">ABC</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">NestedABC2</span>.</span></span></pre><div class="doc">
For now, there is no ambiguity, since we have not imported any module.
    Our 4 new constants are:
<ul class="doclist">
<li> <span class="inlinecode"><span class="id" title="var">NestedABC1.ABC.alice</span></span>
</li>
<li> <span class="inlinecode"><span class="id" title="var">NestedABC1.ABC.bob</span></span>
</li>
<li> <span class="inlinecode"><span class="id" title="var">NestedABC2.ABC.alice</span></span>
</li>
<li> <span class="inlinecode"><span class="id" title="var">NestedABC2.ABC.charlie</span></span>
</li>
</ul>
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk38" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk38"><span class="kn">Locate</span> alice.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">Constant RequireImportTutorial.NestedABC1.ABC.alice
  (shorter name to refer to it <span class="kr">in</span> current <span class="kp">context</span> <span class="kr">is</span> NestedABC1.ABC.alice)
Constant RequireImportTutorial.NestedABC2.ABC.alice
  (shorter name to refer to it <span class="kr">in</span> current <span class="kp">context</span> <span class="kr">is</span> NestedABC2.ABC.alice)</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk39" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk39"><span class="kn">Locate</span> bob.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">Constant RequireImportTutorial.NestedABC1.ABC.bob
  (shorter name to refer to it <span class="kr">in</span> current <span class="kp">context</span> <span class="kr">is</span> NestedABC1.ABC.bob)</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk3a" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk3a"><span class="kn">Locate</span> charlie.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">Constant RequireImportTutorial.NestedABC2.ABC.charlie
  (shorter name to refer to it <span class="kr">in</span> current <span class="kp">context</span> <span class="kr">is</span> NestedABC2.ABC.charlie)</blockquote></div></div></small></span></pre><div class="doc">
Now we <span class="inlinecode"><span class="id" title="keyword">Import</span></span> both outer modules: 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Import</span> NestedABC1.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk3b" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk3b"><span class="kn">Print</span> ABC.alice.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">ABC.alice = <span class="mi">1</span>
     : nat</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk3c" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk3c"><span class="kn">Print</span> ABC.bob.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">ABC.bob = <span class="mi">1</span>
     : nat</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Import</span> NestedABC2.</span></span></pre><div class="doc">
What are <span class="inlinecode"><span class="id" title="var">ABC.alice</span></span>, <span class="inlinecode"><span class="id" title="var">ABC.bob</span></span> and <span class="inlinecode"><span class="id" title="var">ABC.charlie</span></span> now? 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk3d" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk3d"><span class="kn">Print</span> ABC.alice.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">ABC.alice = <span class="mi">2</span>
     : nat</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk3e" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk3e"><span class="kn">Print</span> ABC.bob.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">ABC.bob = <span class="mi">1</span>
     : nat</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk3f" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk3f"><span class="kn">Print</span> ABC.charlie.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">ABC.charlie = <span class="mi">2</span>
     : nat</blockquote></div></div></small></span></pre><div class="doc">
As we see, <span class="inlinecode"><span class="id" title="var">ABC.alice</span></span> from <span class="inlinecode"><span class="id" title="var">NestedABC1</span></span> has now been shadowed by
    <span class="inlinecode"><span class="id" title="var">ABC.alice</span></span> in <span class="inlinecode"><span class="id" title="var">NestedABC2</span></span>. Other than that, Coq is perfectly fine with
    <span class="inlinecode"><span class="id" title="var">ABC.bob</span></span>, which means that the <span class="inlinecode"><span class="id" title="var">ABC</span></span> prefix in these three identifiers
    can actually refer to different modules.

<div class="paragraph"> </div>

    Of course, we can still refer to the <span class="inlinecode"><span class="id" title="var">alice</span></span> constant in the first module
    with a more qualified identifier: 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk40" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk40"><span class="kn">Locate</span> alice.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">Constant RequireImportTutorial.NestedABC2.ABC.alice
  (shorter name to refer to it <span class="kr">in</span> current <span class="kp">context</span> <span class="kr">is</span> ABC.alice)
Constant RequireImportTutorial.NestedABC1.ABC.alice
  (shorter name to refer to it <span class="kr">in</span> current <span class="kp">context</span> <span class="kr">is</span> NestedABC1.ABC.alice)</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk41" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk41"><span class="kn">Print</span> NestedABC1.ABC.alice.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">NestedABC1.ABC.alice = <span class="mi">1</span>
     : nat</blockquote></div></div></small></span></pre><div class="doc">
What happens if we <span class="inlinecode"><span class="id" title="keyword">Import</span></span> both <span class="inlinecode"><span class="id" title="var">ABC</span></span> momdules?
    Anything more than what we already saw: the order of the <span class="inlinecode"><span class="id" title="keyword">Import</span></span> commands
    will determine the meaning of the short name <span class="inlinecode"><span class="id" title="var">alice</span></span>. 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Import</span> NestedABC1.ABC.</span></span></pre><div class="doc">
The previous command did not shadow the module name <span class="inlinecode"><span class="id" title="var">ABC</span></span> itself, so it
    still refers to the previously <span class="inlinecode"><span class="id" title="keyword">Import</span></span>ed <span class="inlinecode"><span class="id" title="var">NestedABC2.ABC</span></span> and we can
    <span class="inlinecode"><span class="id" title="keyword">Import</span></span> it that way: 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Import</span> ABC.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk42" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk42"><span class="kn">Print</span> alice.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">alice = <span class="mi">2</span>
     : nat</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk43" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk43"><span class="kn">Print</span> bob.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">bob = <span class="mi">1</span>
     : nat</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk44" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk44"><span class="kn">Print</span> charlie.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">charlie = <span class="mi">2</span>
     : nat</blockquote></div></div></small></span></pre><div class="doc">
Where is the other <span class="inlinecode"><span class="id" title="var">alice</span></span>? 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk45" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk45"><span class="kn">Locate</span> alice.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">Constant RequireImportTutorial.NestedABC2.ABC.alice
Constant RequireImportTutorial.NestedABC1.ABC.alice
  (shorter name to refer to it <span class="kr">in</span> current <span class="kp">context</span> <span class="kr">is</span> NestedABC1.ABC.alice)</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk46" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk46"><span class="kn">Print</span> NestedABC1.ABC.alice.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">NestedABC1.ABC.alice = <span class="mi">1</span>
     : nat</blockquote></div></div></small></span></pre><div class="doc">
To conclude this part, let us sum up what Coq allows and disallows regarding
    identifiers:
<ul class="doclist">
<li> it is possible to have two files with the same name as long as they are
      in different directories;

</li>
<li> it is possible to have two (non-file) modules with the same name as long
      as they are in different modules (which can be library files);

</li>
<li> it is possible to have two constants with the same name as long as they
      are in different modules (including library files) 

</li>
</ul>
</div><div class="doc">
<a id="other-content-types-in-modules"></a><h3 class="section">Other content types in Modules</h3>
</div><div class="doc">
So far, our module <span class="inlinecode"><span class="id" title="var">Foo</span></span> contained only definitions and lemmas.
    In practice there are many more content types in a module:
<ul class="doclist">
<li> parameters and axioms

</li>
<li> tactics

</li>
<li> notations, abbreviations, <span class="inlinecode"><span class="id" title="keyword">Ltac</span></span> notations and <span class="inlinecode"><span class="id" title="var">Ltac2</span></span> notations

</li>
<li> hints and type class instances

</li>
<li> coercions

</li>
<li> canonical structures

</li>
</ul>
<div class="paragraph"> </div>

    It is not an issue if some (or all) these categories are obscure to you.
    We are only interested in what persists outside the module and in which
    case. We will only experiment with some of these categories. 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Module</span> <span class="nf">Bar</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  <span class="c">(* A parameter: *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Parameter</span> (<span class="nv">secret</span> : nat).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  <span class="c">(* An axiom: *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Axiom</span> <span class="nv">secret_is_42</span> : secret = <span class="mi">42</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  <span class="c">(* A custom tactic: *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Ltac</span> <span class="nf">find_secret</span> := <span class="nb">rewrite</span> secret_is_42.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  <span class="c">(* An abbreviation: *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Notation</span> <span class="nf">add_42</span> := (Nat.add <span class="mi">42</span>).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  <span class="c">(* A tactic notation: *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Tactic Notation</span> <span class="s2">&quot;fs&quot;</span> := find_secret.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  <span class="c">(* A notation: *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Infix</span> <span class="s2">&quot;+p&quot;</span> := Nat.add (<span class="kn">only parsing</span>, <span class="kn">at level</span> <span class="mi">30</span>, <span class="kn">right associativity</span>) : nat_scope.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  <span class="c">(* Two lemmas: *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk47" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk47"><span class="kn">Lemma</span> <span class="nf">secret_42</span> : secret = <span class="mi">42</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">secret = <span class="mi">42</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk48" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk48"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">secret = <span class="mi">42</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk49" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk49">find_secret.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">42</span> = <span class="mi">42</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk4a" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk4a"><span class="kn">Lemma</span> <span class="nf">baz</span> : <span class="mi">21</span> +p <span class="mi">21</span> = secret.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">21</span> + <span class="mi">21</span> = secret</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk4b" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk4b"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">21</span> + <span class="mi">21</span> = secret</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk4c" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk4c">fs.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">21</span> + <span class="mi">21</span> = <span class="mi">42</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">Bar</span>.</span></span></pre><div class="doc">
We have not imported <span class="inlinecode"><span class="id" title="var">Bar</span></span> yet. What do we have? 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk4d" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk4d"><span class="kn">About</span> Bar.secret.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">Bar.secret : nat

Bar.secret <span class="kr">is</span> not universe polymorphic
Expands to: Constant RequireImportTutorial.Bar.secret</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk4e" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk4e"><span class="kn">About</span> Bar.secret_is_42.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">Bar.secret_is_42 : Bar.secret = <span class="mi">42</span>

Bar.secret_is_42 <span class="kr">is</span> not universe polymorphic
Expands to: Constant
RequireImportTutorial.Bar.secret_is_42</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk4f" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk4f"><span class="kn">Print Assumptions</span> Bar.secret_is_42.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message"><span class="kn">Axioms</span>:
Bar.secret_is_42 : Bar.secret = <span class="mi">42</span></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk50" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk50"><span class="kn">About</span> Bar.secret_42.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">Bar.secret_42 : Bar.secret = <span class="mi">42</span>

Bar.secret_42 <span class="kr">is</span> not universe polymorphic
Bar.secret_42 <span class="kr">is</span> opaque
Expands to: Constant
RequireImportTutorial.Bar.secret_42</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk51" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk51"><span class="kn">Print Assumptions</span> Bar.secret_42.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message"><span class="kn">Axioms</span>:
Bar.secret_is_42 : Bar.secret = <span class="mi">42</span>
Bar.secret : nat</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk52" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk52"><span class="kn">About</span> Bar.baz.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">Bar.baz : <span class="mi">21</span> + <span class="mi">21</span> = Bar.secret

Bar.baz <span class="kr">is</span> not universe polymorphic
Bar.baz <span class="kr">is</span> opaque
Expands to: Constant RequireImportTutorial.Bar.baz</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk53" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk53"><span class="kn">Print Assumptions</span> Bar.baz.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message"><span class="kn">Axioms</span>:
Bar.secret_is_42 : Bar.secret = <span class="mi">42</span>
Bar.secret : nat</blockquote></div></div></small></span></pre><div class="doc">
We see that parameters, axioms and lemmas are available, and axioms are
    treated as such after the end of the module.

<div class="paragraph"> </div>

    What about the other content? 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk54" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk54"><span class="kn">Print</span> Bar.add_42. <span class="c">(* Our abbreviation is available. *)</span></label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message"><span class="kn">Notation</span> <span class="nf">Bar</span>.add_42 := (Nat.add <span class="mi">42</span>)</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk55" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk55"><span class="kn">Fail</span> <span class="kn">Check</span> (<span class="mi">21</span> +p <span class="mi">21</span>). <span class="c">(* Our notation is not. *)</span></label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">The command has indeed failed <span class="kr">with</span> message:
The reference p was not found <span class="kr">in</span> the current
environment.</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk56" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk56"><span class="kn">Lemma</span> <span class="nf">forty_two</span> : Bar.secret = <span class="mi">42</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Bar.secret = <span class="mi">42</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk57" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk57"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Bar.secret = <span class="mi">42</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk58" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk58"><span class="kn">Fail</span> fs.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">The command has indeed failed <span class="kr">with</span> message:
The reference fs was not found <span class="kr">in</span> the current
environment.</blockquote></div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Bar.secret = <span class="mi">42</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk59" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk59"><span class="kn">Fail</span> Bar.fs. <span class="c">(* Our tactic notation is not available. *)</span></label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">The command has indeed failed <span class="kr">with</span> message:
The reference Bar.fs was not found <span class="kr">in</span> the current
environment.</blockquote></div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Bar.secret = <span class="mi">42</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk5a" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk5a">Bar.find_secret. <span class="c">(* But our tactic is. *)</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">42</span> = <span class="mi">42</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
As we can see, only the <i>tactic</i> `find_secret` and the <i>abbreviation</i>
<span class="inlinecode"><span class="id" title="var">add_42</span></span> were available. Now let's <span class="inlinecode"><span class="id" title="keyword">Import</span></span> <span class="inlinecode"><span class="id" title="var">Bar</span></span>: 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Import</span> Bar.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk5b" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk5b"><span class="kn">Check</span> (<span class="mi">21</span> +p <span class="mi">21</span>).</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message"><span class="mi">21</span> + <span class="mi">21</span>
     : nat</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk5c" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk5c"><span class="kn">Lemma</span> <span class="nf">forty_two&#39;</span> : secret = <span class="mi">42</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">secret = <span class="mi">42</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk5d" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk5d"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">secret = <span class="mi">42</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk5e" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk5e">fs.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">42</span> = <span class="mi">42</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
To sum things up:
<ul class="doclist">
<li> constants (i.e. parameters, definitions, lemmas, axioms, etc), tactics
      and abbreviations contained in a module are available even if we do not
      <span class="inlinecode"><span class="id" title="keyword">Import</span></span> a module, with a qualified name;

</li>
<li> notations, <span class="inlinecode"><span class="id" title="keyword">Ltac</span></span> notations, <span class="inlinecode"><span class="id" title="var">Ltac2</span></span> notations need the module to be
      imported to be available (note that notations are also associated to
      notation scopes we may have to <span class="inlinecode"><span class="id" title="keyword">Open</span></span> or delimit with a key in order to
      use them)

</li>
<li> the same holds for coercions, hints, type class instances and canonical
      structures (we omit the experiments for brevity). 

</li>
</ul>
</div><div class="doc">
<a id="guidelines-about-the-order-of-require-and-import-commands"></a><h3 class="section">1.5 Guidelines about the order of <span class="inlinecode"><span class="id" title="keyword">Require</span></span> and <span class="inlinecode"><span class="id" title="keyword">Import</span></span> commands</h3>
</div><div class="doc">
We have seen that the order of <span class="inlinecode"><span class="id" title="keyword">Require</span></span> and <span class="inlinecode"><span class="id" title="keyword">Import</span></span> statements is
    important. Some constants could be shadowed by others, which can break
    definitions and proofs.

<div class="paragraph"> </div>

    In general, we should try to respect the following guidelines:
<ul class="doclist">
<li> All <span class="inlinecode"><span class="id" title="keyword">Require</span></span> commands should (ultimately) be at the beginning of a file,
      it makes it easier to know on which theories the file is built.
      It is fine during development to experiment temporarily with <span class="inlinecode"><span class="id" title="keyword">Require</span></span>
      commands in the middle of the file and in a final version, either
      move the require statement at the beginning of a file, or the whole
      experiment in a separate file.

</li>
<li> Usually, <span class="inlinecode"><span class="id" title="keyword">Require</span></span> statements are actually <span class="inlinecode"><span class="id" title="keyword">Require</span></span> <span class="inlinecode"><span class="id" title="keyword">Import</span></span> statements:
      we want shorter names, notations, etc about theories we explicitly
      build on. Other constants which have been (implicitly) recursively
      <span class="inlinecode"><span class="id" title="keyword">Require</span></span>d need a longer name to be used, so it is easier not to use them
      by accident (or to finally decide that we need to explicitly <span class="inlinecode"><span class="id" title="keyword">Require</span></span>
<span class="inlinecode"><span class="id" title="keyword">Import</span></span> other modules).

</li>
<li> We should <span class="inlinecode"><span class="id" title="keyword">Require</span></span> <span class="inlinecode"><span class="id" title="keyword">Import</span></span> only what is needed: it makes the global
      environment smaller, reduces the risks of shadowing and saves compilation
      time. In particular, breaking dependencies allows parallel compilation
      with multithreaded processors.

</li>
<li> In general, we should <span class="inlinecode"><span class="id" title="keyword">Require</span></span> <span class="inlinecode"><span class="id" title="keyword">Import</span></span> files from external libraries first,
      in a more or less specialization order (the most basic theories first).
      Then, we should <span class="inlinecode"><span class="id" title="keyword">Require</span></span> <span class="inlinecode"><span class="id" title="keyword">Import</span></span> other internal library files at the end.
      Doing so prevents an external project to break our file by shadowing
      internal constants we use in that file.

</li>
<li> We should try to <span class="inlinecode"><span class="id" title="keyword">Require</span></span> <span class="inlinecode"><span class="id" title="keyword">Import</span></span> files in the same order everytime to
      increase predictability of breakage due to shadowing.

</li>
</ul>
<div class="paragraph"> </div>
<a id="fine-control-over-module-features"></a><h2 class="section">Fine control over module features</h2>
<div class="paragraph"> </div>
<a id="on-the-users-side-selective-import"></a><h3 class="section">On the user's side: selective import</h3>
<div class="paragraph"> </div>

    Now is a good time to present a recent addition: selective import of
    modules. Recall that importing a module has basically two effects:
<ul class="doclist">
<li> make the short names of constants (lemmas, definitions, ...),
      abbreviations and tactics available

</li>
<li> enable the other content: notations, tactic notations, hints, coercions
      and canonical

</li>
</ul>
<div class="paragraph"> </div>

    Selective import lets us precisely choose what we want to import.

<div class="paragraph"> </div>

    To illustrate this, we create a hint database: 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Create HintDb</span> req_tut.</span></span></pre><div class="doc">
Our next example contains almost every categories of content: 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Module</span> <span class="nf">Baz</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  <span class="c">(* Constants: *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Parameter</span> <span class="nv">b</span> : nat.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">almost_b</span> := <span class="mi">41</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Axiom</span> <span class="nv">b_rel</span> : b = almost_b + <span class="mi">1</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  <span class="c">(* An abbreviation: *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Notation</span> <span class="nf">add_two</span> := (<span class="kr">fun</span> <span class="nv">x</span> =&gt; x + <span class="mi">2</span>).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  <span class="c">(* A tactic: *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Ltac</span> <span class="nf">rfl</span> := <span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  <span class="c">(* A notation: *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Notation</span> <span class="s2">&quot;x !!&quot;</span> := (x * <span class="mi">42</span>) (<span class="kn">at level</span> <span class="mi">2</span>) : nat_scope.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  <span class="c">(* A coercion: *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Coercion</span> <span class="nf">to_nat</span> := <span class="kr">fun</span> (<span class="nv">x</span> : Z) =&gt; <span class="mi">42</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  <span class="c">(* A hint (please _do not_ pay attention to the [#[export]] locality</span>
<span class="c">     attribute, it is here for compatibility reasons and will be discussed</span>
<span class="c">     in the next section) *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input">#[export] <span class="kn">Hint Rewrite</span> b_rel : req_tut.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">Baz</span>.</span></span></pre><div class="doc">
Let us import our notations first: 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Import</span> (notations) Baz.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk5f" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk5f"><span class="kn">Compute</span> <span class="mi">10</span> !!.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">= <span class="mi">420</span>
: nat</blockquote></div></div></small></span></pre><div class="doc">
Everything else has not been imported. 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk60" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk60"><span class="kn">Fail</span> <span class="kn">Check</span> b.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">The command has indeed failed <span class="kr">with</span> message:
The reference b was not found <span class="kr">in</span> the current
environment.</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk61" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk61"><span class="kn">Fail</span> <span class="kn">Check</span> almost_b.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">The command has indeed failed <span class="kr">with</span> message:
The reference almost_b was not found <span class="kr">in</span> the current
environment.</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk62" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk62"><span class="kn">Fail</span> <span class="kn">Check</span> b_rel.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">The command has indeed failed <span class="kr">with</span> message:
The reference b_rel was not found <span class="kr">in</span> the current
environment.</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk63" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk63"><span class="kn">Fail</span> <span class="kn">Compute</span> (<span class="mi">0</span>%Z + <span class="mi">3</span>). <span class="c">(* Our coercion is not there. *)</span></label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">The command has indeed failed <span class="kr">with</span> message:
The term <span class="s2">&quot;0%Z&quot;</span> has type <span class="s2">&quot;Z&quot;</span>
while it <span class="kr">is</span> expected to <span class="nb">have</span> type <span class="s2">&quot;nat&quot;</span>.</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk64" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk64"><span class="kn">Print HintDb</span> req_tut. <span class="c">(* Our hint database is sadly empty. *)</span></label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">Non-<span class="kn">discriminated</span> database
Unfoldable variable definitions: <span class="kp">all</span>
Unfoldable constant definitions: <span class="kp">all</span>
Unfoldable projection definitions: <span class="kp">all</span>
Cut: emp
For any goal -&gt;   
</blockquote></div></div></small></span></pre><div class="doc">
Let us now import our coercions and hints with one command: 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Import</span> (coercions, hints) Baz.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk65" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk65"><span class="kn">Compute</span> (<span class="mi">0</span>%Z + <span class="mi">3</span>).</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">= <span class="mi">45</span>
: nat</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk66" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk66"><span class="kn">Print HintDb</span> req_tut. <span class="c">(* Our hint is available *)</span></label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">Non-<span class="kn">discriminated</span> database
Unfoldable variable definitions: <span class="kp">all</span>
Unfoldable constant definitions: <span class="kp">all</span>
Unfoldable projection definitions: <span class="kp">all</span>
Cut: emp
For any goal -&gt;   
</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk67" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk67"><span class="kn">Lemma</span> <span class="nf">b_42</span> : Baz.b = <span class="mi">42</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Baz.b = <span class="mi">42</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk68" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk68"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Baz.b = <span class="mi">42</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk69" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk69"><span class="nb">autorewrite with</span> req_tut.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Baz.almost_b + <span class="mi">1</span> = <span class="mi">42</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk6a" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk6a"><span class="nb">unfold</span> Baz.almost_b.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">41</span> + <span class="mi">1</span> = <span class="mi">42</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input">Baz.rfl.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
Our notation is still there: 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk6b" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk6b"><span class="kn">Compute</span> <span class="mi">1</span> !!.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">= <span class="mi">42</span>
: nat</blockquote></div></div></small></span></pre><div class="doc">
In fact, it is important to understand that there is no way to "un-import"
    anything in the same module or section. Once a module feature has been
    activated, it remains so until the end of the current section or module (or
    file), the only exception being shadowed content.

<div class="paragraph"> </div>

    We call the <span class="inlinecode"><span class="id" title="var">coercions</span></span> and <span class="inlinecode"><span class="id" title="var">notations</span></span> seen before <i>import categories</i>.
    The other import categories correspond to what we mentioned before, namely:
    <span class="inlinecode"><span class="id" title="var">hints</span></span>, <span class="inlinecode"><span class="id" title="var">canonicals</span></span>, <span class="inlinecode"><span class="id" title="var">ltac.notations</span></span> and <span class="inlinecode"><span class="id" title="var">ltac2.notations</span></span>.

<div class="paragraph"> </div>

    We can also select which constants and abbreviations are available
    by their short names: 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Import</span> Baz(almost_b, b_rel, add_two).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk6c" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk6c"><span class="kn">Check</span> almost_b.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">almost_b
     : nat</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk6d" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk6d"><span class="kn">Check</span> b_rel.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">b_rel
     : Baz.b = almost_b + <span class="mi">1</span></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk6e" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk6e"><span class="kn">Fail</span> <span class="kn">Check</span> b.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">The command has indeed failed <span class="kr">with</span> message:
The reference b was not found <span class="kr">in</span> the current
environment.</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk6f" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk6f"><span class="kn">Print</span> add_two.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message"><span class="kn">Notation</span> <span class="nf">add_two</span> := (<span class="kr">fun</span> <span class="nv">x</span> =&gt; x + <span class="mi">2</span>)</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk70" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk70"><span class="kn">Fail</span> <span class="kn">Print</span> rfl.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">The command has indeed failed <span class="kr">with</span> message:
rfl not a defined object.</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk71" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk71"><span class="kn">Print</span> Baz.rfl.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message"><span class="kn">Ltac</span> <span class="nf">Baz</span>.rfl := <span class="bp">reflexivity</span></blockquote></div></div></small></span></pre><div class="doc">
There is also a way to tell Coq: <span class="inlinecode"><span class="id" title="keyword">Import</span></span> everything except these
    categories. We just need to prepend them with a minus sign: 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Module</span> <span class="nf">OtherBaz</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">other_b</span> := <span class="mi">42</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">almost_other_b</span> := <span class="mi">41</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">almost_almost_other_b</span> := <span class="mi">40</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Notation</span> <span class="s2">&quot;x ??&quot;</span> := (x * <span class="mi">42</span>) (<span class="kn">at level</span> <span class="mi">2</span>) : nat_scope.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Coercion</span> <span class="nf">to_nat</span> := <span class="kr">fun</span> (<span class="nv">x</span> : bool) =&gt; <span class="mi">42</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">OtherBaz</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Import</span> -(coercions) OtherBaz.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk72" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk72"><span class="kn">Check</span> almost_other_b.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">almost_other_b
     : nat</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk73" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk73"><span class="kn">Compute</span> <span class="mi">10</span> ??.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">= <span class="mi">420</span>
: nat</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk74" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk74"><span class="kn">Fail</span> <span class="kn">Check</span> (true + <span class="mi">3</span>).</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">The command has indeed failed <span class="kr">with</span> message:
The term <span class="s2">&quot;true&quot;</span> has type <span class="s2">&quot;bool&quot;</span>
while it <span class="kr">is</span> expected to <span class="nb">have</span> type <span class="s2">&quot;nat&quot;</span>.</blockquote></div></div></small></span></pre><div class="doc">
Notice that, when we import everything except some categories, it is not
    possible, at the time of writing, to choose which identifiers are imported
    to be available as short names: they all are.

<div class="paragraph"> </div>

    We can always change our mind and decide to import a category we did not: 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Import</span> (coercions) OtherBaz.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk75" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk75"><span class="kn">Compute</span> (true + <span class="mi">3</span>).</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">= <span class="mi">45</span>
: nat</blockquote></div></div></small></span></pre><div class="doc">
To end this section, we turn to inductive types. 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Module</span> <span class="nf">Unary</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Inductive</span> <span class="nf">UnaryPos</span> := one | successor (n : UnaryPos).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Inductive</span> <span class="nf">UnaryZ</span> := zero | plus (n : UnaryPos) | minus (n : UnaryPos).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">Unary</span>.</span></span></pre><div class="doc">
We have not imported anything yet.
    Our inductive types and their constructors are available with their
    qualified names: 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk76" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk76"><span class="kn">Check</span> Unary.UnaryPos.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">Unary.UnaryPos
     : <span class="kt">Set</span></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk77" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk77"><span class="kn">Check</span> Unary.one.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">Unary.one
     : Unary.UnaryPos</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk78" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk78"><span class="kn">Check</span> Unary.UnaryZ.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">Unary.UnaryZ
     : <span class="kt">Set</span></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk79" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk79"><span class="kn">Check</span> Unary.minus.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">Unary.minus
     : Unary.UnaryPos -&gt; Unary.UnaryZ</blockquote></div></div></small></span></pre><div class="doc">
So are our automatically generated induction principles (ending with
    <span class="inlinecode"><span class="id" title="var">_sind</span></span>, <span class="inlinecode"><span class="id" title="var">_ind</span></span>, <span class="inlinecode"><span class="id" title="var">_rec</span></span> or <span class="inlinecode"><span class="id" title="var">_rect</span></span>): 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk7a" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk7a"><span class="kn">Check</span> Unary.UnaryPos_rec.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">Unary.UnaryPos_rec
     : <span class="kr">forall</span> <span class="nv">P</span> : Unary.UnaryPos -&gt; <span class="kt">Set</span>,
       P Unary.one -&gt;
       (<span class="kr">forall</span> <span class="nv">n</span> : Unary.UnaryPos,
        P n -&gt; P (Unary.successor n)) -&gt;
       <span class="kr">forall</span> <span class="nv">u</span> : Unary.UnaryPos, P u</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk7b" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk7b"><span class="kn">Check</span> Unary.UnaryZ_ind.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">Unary.UnaryZ_ind
     : <span class="kr">forall</span> <span class="nv">P</span> : Unary.UnaryZ -&gt; <span class="kt">Prop</span>,
       P Unary.zero -&gt;
       (<span class="kr">forall</span> <span class="nv">n</span> : Unary.UnaryPos, P (Unary.plus n)) -&gt;
       (<span class="kr">forall</span> <span class="nv">n</span> : Unary.UnaryPos, P (Unary.minus n)) -&gt;
       <span class="kr">forall</span> <span class="nv">u</span> : Unary.UnaryZ, P u</blockquote></div></div></small></span></pre><div class="doc">
We can selectively <span class="inlinecode"><span class="id" title="keyword">Import</span></span> all these constants and abbreviations.

<div class="paragraph"> </div>

    For an inductive type and its constructors, it suffices to give the type
    in the constants parenthesized list to be able to use its short name 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Import</span> Unary(UnaryPos).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk7c" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk7c"><span class="kn">Print</span> UnaryPos.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message"><span class="kn">Inductive</span> <span class="nf">UnaryPos</span> : <span class="kt">Set</span> :=
    one : UnaryPos | successor : UnaryPos -&gt; UnaryPos.

<span class="kn">Arguments</span> Unary.successor n</blockquote></div></div></small></span></pre><div class="doc">
However, its constructors and induction principles are not imported: 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk7d" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk7d"><span class="kn">Check</span> one. <span class="c">(* This is still Z.one *)</span></label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">one
     : Z</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk7e" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk7e"><span class="kn">Fail</span> <span class="kn">Check</span> UnaryPos_rec.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">The command has indeed failed <span class="kr">with</span> message:
The reference UnaryPos_rec was not found
<span class="kr">in</span> the current environment.</blockquote></div></div></small></span></pre><div class="doc">
It is possible to <span class="inlinecode"><span class="id" title="keyword">Import</span></span> them manually: 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Import</span> Unary(one, UnaryPos_rec).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk7f" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk7f"><span class="kn">Check</span> one.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">one
     : UnaryPos</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk80" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk80"><span class="kn">Check</span> UnaryPos_rec.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">UnaryPos_rec
     : <span class="kr">forall</span> <span class="nv">P</span> : UnaryPos -&gt; <span class="kt">Set</span>,
       P one -&gt;
       (<span class="kr">forall</span> <span class="nv">n</span> : UnaryPos,
        P n -&gt; P (Unary.successor n)) -&gt;
       <span class="kr">forall</span> <span class="nv">u</span> : UnaryPos, P u</blockquote></div></div></small></span></pre><div class="doc">
But there is a shortcut: using <span class="inlinecode"><span class="id" title="var">UnaryPos</span>(..)</span> imports at once the type, as
    well as its constructors and induction principles: 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Import</span> Unary(UnaryPos(..)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk81" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk81"><span class="kn">Check</span> UnaryPos_ind.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">UnaryPos_ind
     : <span class="kr">forall</span> <span class="nv">P</span> : UnaryPos -&gt; <span class="kt">Prop</span>,
       P one -&gt;
       (<span class="kr">forall</span> <span class="nv">n</span> : UnaryPos, P n -&gt; P (successor n)) -&gt;
       <span class="kr">forall</span> <span class="nv">u</span> : UnaryPos, P u</blockquote></div></div></small></span></pre><div class="doc">
The following command enables all short names associated to the inductive
    type <span class="inlinecode"><span class="id" title="var">UnaryZ</span></span>: 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Import</span> Unary(UnaryZ(..)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk82" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk82"><span class="kn">Check</span> UnaryZ.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">UnaryZ
     : <span class="kt">Set</span></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk83" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk83"><span class="kn">Check</span> plus.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">plus
     : UnaryPos -&gt; UnaryZ</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk84" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk84"><span class="kn">Check</span> UnaryZ_ind.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">UnaryZ_ind
     : <span class="kr">forall</span> <span class="nv">P</span> : UnaryZ -&gt; <span class="kt">Prop</span>,
       P zero -&gt;
       (<span class="kr">forall</span> <span class="nv">n</span> : UnaryPos, P (plus n)) -&gt;
       (<span class="kr">forall</span> <span class="nv">n</span> : UnaryPos, P (minus n)) -&gt;
       <span class="kr">forall</span> <span class="nv">u</span> : UnaryZ, P u</blockquote></div></div></small></span></pre><div class="doc">
<a id="on-the-writers-side-locality-attributes-in-modules"></a><h2 class="section">On the writer's side: locality attributes in modules</h2>
<div class="paragraph"> </div>

    Let's now turn to a complementary tool to give control over what should
    remain local (if not hidden) and what should be exposed in a module (which
    can be a library file).

<div class="paragraph"> </div>

    Locality attributes change the visibility of content outside a section or
    a module. We're only interested in modules in this tutorial.

<div class="paragraph"> </div>

    Contrarily to selective import, which gives some amount of control on
    what is <span class="inlinecode"><span class="id" title="keyword">Import</span></span>ed to <i>the user</i> of a module, locality attributes lets <i>the
    writer</i> of a module control what should be imported or not.

<div class="paragraph"> </div>

    There are 3 locality attributes: <span class="inlinecode">#[<span class="id" title="var">local</span>]</span>, <span class="inlinecode">#[<span class="id" title="var">export</span>]</span> and <span class="inlinecode">[#<span class="id" title="var">global</span>]</span>.

<div class="paragraph"> </div>

    The availability and effect of these attribute depends on each command (and
    even which Coq version we use) but, in short, when supported:
<ul class="doclist">
<li> the <span class="inlinecode">#[<span class="id" title="var">local</span>]</span> attribute makes some content unavailable for import

</li>
<li> the <span class="inlinecode">#[<span class="id" title="var">export</span>]</span> attribute makes some content available only if the module
      is <span class="inlinecode"><span class="id" title="keyword">Import</span></span>ed

</li>
<li> the <span class="inlinecode">#[<span class="id" title="var">global</span>]</span> attribute, in some cases, makes some content available
      outside the module even when not <span class="inlinecode"><span class="id" title="keyword">Import</span></span>ed.

</li>
</ul>
<div class="paragraph"> </div>

    We experiment with our useless module <span class="inlinecode"><span class="id" title="var">Baz</span></span>: 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Module</span> <span class="nf">YetAnotherBaz</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input">#[local] <span class="kn">Definition</span> <span class="nf">yet_another_b</span> := <span class="mi">42</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">almost_yet_another_b</span> := <span class="mi">41</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input">#[local] <span class="kn">Definition</span> <span class="nf">almost_almost_yet_another_b</span> := <span class="mi">40</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input">#[local] <span class="kn">Notation</span> <span class="s2">&quot;x %%&quot;</span> := (x * <span class="mi">42</span>) (<span class="kn">at level</span> <span class="mi">2</span>) : nat_scope.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input">#[local] <span class="kn">Coercion</span> <span class="nf">to_nat</span> := <span class="kr">fun</span> (<span class="nv">x</span> : <span class="kt">Prop</span>) =&gt; <span class="mi">42</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk85" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk85"><span class="kn">Compute</span> <span class="mi">3</span> %%.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">= <span class="mi">126</span>
: nat</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk86" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk86"><span class="kn">Compute</span> (<span class="kt">True</span> + <span class="mi">2</span>).</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">= <span class="mi">44</span>
: nat</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">YetAnotherBaz</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Import</span> YetAnotherBaz.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk87" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk87"><span class="kn">Fail</span> <span class="kn">Check</span> yet_another_b.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">The command has indeed failed <span class="kr">with</span> message:
The reference yet_another_b was not found
<span class="kr">in</span> the current environment.</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk88" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk88"><span class="kn">Check</span> YetAnotherBaz.yet_another_b.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">YetAnotherBaz.yet_another_b
     : nat</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk89" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk89"><span class="kn">Check</span> almost_yet_another_b.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">almost_yet_another_b
     : nat</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk8a" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk8a"><span class="kn">Fail</span> <span class="kn">Compute</span> (<span class="kt">True</span> + <span class="mi">2</span>).</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">The command has indeed failed <span class="kr">with</span> message:
The term <span class="s2">&quot;True&quot;</span> has type <span class="s2">&quot;Prop&quot;</span>
while it <span class="kr">is</span> expected to <span class="nb">have</span> type <span class="s2">&quot;nat&quot;</span>.</blockquote></div></div></small></span></pre><div class="doc">
The notation "x %" is also unavailable, but we cannot show it without
    stopping compilation, as it is not even parsed.
    You can try it by uncommenting:
    Compute 3 %.

<div class="paragraph"> </div>

    As we see, using the <span class="inlinecode">#[<span class="id" title="var">local</span>]</span> attribute in a module makes some content
    unavailable for import, which means, for constants, to make them only
    available with qualified names and for other categories (hints, coercions,
    etc), to disable them outside the module.

<div class="paragraph"> </div>

    This should be used without restraint on anything which should not be part
    of the user's interface, e.g. convenience ad-hoc tactics or unstable
    implementation details.

<div class="paragraph"> </div>

    The <span class="inlinecode">#[<span class="id" title="var">export</span>]</span> attribute is not as well supported as <span class="inlinecode">#[<span class="id" title="var">local</span>]</span>.
    In fact, in a module, since Coq 8.18, it is either not supported, or the
    default behavior (make a feature or short name available only when 
    a module is <span class="inlinecode"><span class="id" title="keyword">Import</span></span>ed), except when used with the <span class="inlinecode"><span class="id" title="keyword">Set</span></span> command which is
    used to change some Coq options.

<div class="paragraph"> </div>

    Prior to Coq 8.18, if one wants Hints to be available if (and only if) the
    module is <span class="inlinecode"><span class="id" title="keyword">Import</span></span>ed, they should have the <span class="inlinecode">#[<span class="id" title="var">export</span>]</span> attribute and in
    Coq 8.17, Coq will emit a fatal warning they do not have any attribute.

<div class="paragraph"> </div>

    The following example shows what to expect (in any recent Coq version)
    when a Hint is kept local and a <span class="inlinecode"><span class="id" title="keyword">Set</span></span> command has no attribute: 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Module</span> <span class="nf">NotExported</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Set Universe Polymorphism</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input">#[local] <span class="kn">Hint Rewrite</span> Nat.add_1_r : req_tut.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk8b" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk8b"><span class="kn">Test Universe Polymorphism</span>.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message"><span class="kn">Universe</span> <span class="nf">Polymorphism</span> <span class="kr">is</span> on</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">NotExported</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Import</span> NotExported.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk8c" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk8c"><span class="kn">Lemma</span> <span class="nf">add_ones_r</span> (<span class="nv">n</span> : nat) : n + <span class="mi">1</span> + <span class="mi">1</span> + <span class="mi">1</span> = S (S (S n)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n + <span class="mi">1</span> + <span class="mi">1</span> + <span class="mi">1</span> = S (S (S n))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk8d" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk8d"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n + <span class="mi">1</span> + <span class="mi">1</span> + <span class="mi">1</span> = S (S (S n))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk8e" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk8e"><span class="nb">autorewrite with</span> req_tut. <span class="c">(* This did _nothing_. *)</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n + <span class="mi">1</span> + <span class="mi">1</span> + <span class="mi">1</span> = S (S (S n))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk8f" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk8f"><span class="nb">rewrite</span> <span class="mi">3</span>!Nat.add_1_r.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">S (S (S n)) = S (S (S n))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
The option "Universe Polymorphism" is not set outside the module. 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk90" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk90"><span class="kn">Test Universe Polymorphism</span>.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message"><span class="kn">Universe</span> <span class="nf">Polymorphism</span> <span class="kr">is</span> off</blockquote></div></div></small></span></pre><div class="doc">
Now, here is the same module with <span class="inlinecode">#[<span class="id" title="var">export</span>]</span> locality attributes: 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Module</span> <span class="nf">Exported</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input">#[export] <span class="kn">Set Universe Polymorphism</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk91" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk91"><span class="kn">Test Universe Polymorphism</span>.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message"><span class="kn">Universe</span> <span class="nf">Polymorphism</span> <span class="kr">is</span> on</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input">#[export] <span class="kn">Hint Rewrite</span> Nat.add_1_r : req_tut.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">Exported</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Import</span> Exported.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk92" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk92"><span class="kn">Lemma</span> <span class="nf">add_ones_r&#39;</span> (<span class="nv">n</span> : nat) : n + <span class="mi">1</span> + <span class="mi">1</span> + <span class="mi">1</span> = S (S (S n)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n + <span class="mi">1</span> + <span class="mi">1</span> + <span class="mi">1</span> = S (S (S n))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk93" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk93"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n + <span class="mi">1</span> + <span class="mi">1</span> + <span class="mi">1</span> = S (S (S n))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk94" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk94"><span class="nb">autorewrite with</span> req_tut.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">S (S (S n)) = S (S (S n))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk95" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk95"><span class="kn">Test Universe Polymorphism</span>.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message"><span class="kn">Universe</span> <span class="nf">Polymorphism</span> <span class="kr">is</span> on</blockquote></div></div></small></span></pre><div class="doc">
As we saw, the <span class="inlinecode">#[<span class="id" title="var">export</span>]</span> locality attribute allowed us to <span class="inlinecode"><span class="id" title="keyword">Set</span></span> our
    option whenever the module is <span class="inlinecode"><span class="id" title="keyword">Import</span></span>ed.

<div class="paragraph"> </div>

    For our hint, <span class="inlinecode">#[<span class="id" title="var">export</span>]</span> is the default attribute since Coq 8.18, but if
    you need to work with older versions, you should add it to your Hints,
    if you want them to be available after import.

<div class="paragraph"> </div>

    Now, for the <span class="inlinecode">#[<span class="id" title="var">global</span>]</span> setting. Again, it is often not supported and when
    it is, commands have the default behaviour (short names and features
    disabled except when the module is <span class="inlinecode"><span class="id" title="keyword">Import</span></span>ed), except when <span class="inlinecode"><span class="id" title="keyword">Set</span></span>ting
    options or with the <span class="inlinecode"><span class="id" title="keyword">Hint</span></span> command (and typeclass instances): hints and
    settings with the <span class="inlinecode">#[<span class="id" title="var">global</span>]</span> attributes persist outside of the module,
    even if it is not <span class="inlinecode"><span class="id" title="keyword">Import</span></span>ed.

<div class="paragraph"> </div>

    Let us restore the state of the <span class="inlinecode"><span class="id" title="var">Universe</span></span> <span class="inlinecode"><span class="id" title="var">Polymorphism</span></span> option: 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Unset Universe Polymorphism</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk96" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk96"><span class="kn">Test Universe Polymorphism</span>.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message"><span class="kn">Universe</span> <span class="nf">Polymorphism</span> <span class="kr">is</span> off</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Module</span> <span class="nf">SetGlobalExported</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input">#[<span class="kn">global</span>] <span class="kn">Set Universe Polymorphism</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk97" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk97"><span class="kn">Test Universe Polymorphism</span>.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message"><span class="kn">Universe</span> <span class="nf">Polymorphism</span> <span class="kr">is</span> on</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input">#[<span class="kn">global</span>] <span class="kn">Hint Rewrite</span> Nat.add_0_l Nat.add_0_r : req_tut.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk98" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk98"><span class="kn">Lemma</span> <span class="nf">this_is_a_cool_lemma</span> (<span class="nv">n</span> : nat) : <span class="mi">0</span> + n + <span class="mi">0</span> + <span class="mi">0</span> = <span class="mi">0</span> + n.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> + n + <span class="mi">0</span> + <span class="mi">0</span> = <span class="mi">0</span> + n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk99" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk99"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> + n + <span class="mi">0</span> + <span class="mi">0</span> = <span class="mi">0</span> + n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk9a" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk9a"><span class="nb">autorewrite with</span> req_tut.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n = n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">SetGlobalExported</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk9b" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk9b"><span class="kn">Test Universe Polymorphism</span>.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message"><span class="kn">Universe</span> <span class="nf">Polymorphism</span> <span class="kr">is</span> on</blockquote></div></div></small></span></pre><div class="doc">
We didn't even import the module, and the setting is already there!
    This should really be used with caution as it imposes our choice to any user
    who <span class="inlinecode"><span class="id" title="keyword">Require</span></span>s our library file.

<div class="paragraph"> </div>

    Our hints have also been silently added to our database, even without
    <span class="inlinecode"><span class="id" title="keyword">Import</span></span>. Since hint databases have a tendency to make proofs very brittle
    this should also be used with caution. 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk9c" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk9c"><span class="kn">Lemma</span> <span class="nf">this_is_a_cool_lemma</span> (<span class="nv">n</span> : nat) : <span class="mi">0</span> + n + <span class="mi">0</span> + <span class="mi">0</span> = <span class="mi">0</span> + n.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> + n + <span class="mi">0</span> + <span class="mi">0</span> = <span class="mi">0</span> + n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk9d" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk9d"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> + n + <span class="mi">0</span> + <span class="mi">0</span> = <span class="mi">0</span> + n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk9e" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk9e"><span class="nb">autorewrite with</span> req_tut.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n = n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
<a id="lab14"></a><h4 class="section">Exercise: why could we use the same name in the two previous lemmas?</h4>
<div class="paragraph"> </div>
<a id="exporting-a-module"></a><h2 class="section">Exporting a module</h2>
<div class="paragraph"> </div>

    Contrarily to <span class="inlinecode"><span class="id" title="keyword">Require</span></span>d library files, module imports are not transitive.
    Consider the following nested module: 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Module</span> <span class="nf">A</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">this_is_a</span> := <span class="mi">0</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Module</span> <span class="nf">B</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">this_is_b</span> := <span class="mi">42</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">B</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chk9f" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chk9f"><span class="kn">Fail</span> <span class="kn">Check</span> this_is_b.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">The command has indeed failed <span class="kr">with</span> message:
The reference this_is_b was not found <span class="kr">in</span> the current
environment.</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Import</span> B.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chka0" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chka0"><span class="kn">Check</span> this_is_b.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">this_is_b
     : nat</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">A</span>.</span></span></pre><div class="doc">
This situation may seem contrived, but imagine rather a library file, say
    <span class="inlinecode"><span class="id" title="var">A.v</span></span> which <span class="inlinecode"><span class="id" title="keyword">Require</span></span>s and <span class="inlinecode"><span class="id" title="keyword">Import</span></span>s another library file, say <span class="inlinecode"><span class="id" title="var">B.v</span></span>.
    At this point, we are in a situation similar to being in yet another file
    <span class="inlinecode"><span class="id" title="var">C.v</span></span> which has <span class="inlinecode"><span class="id" title="keyword">Require</span></span>d the file <span class="inlinecode"><span class="id" title="var">A.v</span></span> (but not yet <span class="inlinecode"><span class="id" title="keyword">Import</span></span>ed it).

<div class="paragraph"> </div>

    We can access the content of <span class="inlinecode"><span class="id" title="var">A</span></span> with qualified names. 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chka1" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chka1"><span class="kn">Print</span> A.this_is_a.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">A.this_is_a@{} = <span class="mi">0</span>
     : nat</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chka2" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chka2"><span class="kn">Print Module</span> A.B.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message"><span class="kn">Module</span> <span class="nf">A</span>.B := Struct <span class="kn">Definition</span> <span class="nf">this_is_b</span> : nat. <span class="kn">End</span></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chka3" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chka3"><span class="kn">Fail</span> <span class="kn">Print Module</span> B.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">The command has indeed failed <span class="kr">with</span> message:
Unknown <span class="kn">Module</span> <span class="nf">B</span>.</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chka4" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chka4"><span class="kn">Print</span> A.B.this_is_b.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">A.B.this_is_b@{} = <span class="mi">42</span>
     : nat</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chka5" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chka5"><span class="kn">Fail</span> <span class="kn">Check</span> A.this_is_b.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">The command has indeed failed <span class="kr">with</span> message:
The reference A.this_is_b was not found <span class="kr">in</span> the current
environment.</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chka6" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chka6"><span class="kn">Fail</span> <span class="kn">Check</span> this_is_b.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">The command has indeed failed <span class="kr">with</span> message:
The reference this_is_b was not found <span class="kr">in</span> the current
environment.</blockquote></div></div></small></span></pre><div class="doc">
If we <span class="inlinecode"><span class="id" title="keyword">Import</span></span> <span class="inlinecode"><span class="id" title="var">A</span></span>, we get short names for its content, including the module
    <span class="inlinecode"><span class="id" title="var">B</span></span> itself. 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Import</span> A.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chka7" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chka7"><span class="kn">Print</span> this_is_a.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">this_is_a@{} = <span class="mi">0</span>
     : nat</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chka8" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chka8"><span class="kn">Print Module</span> B.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message"><span class="kn">Module</span> <span class="nf">B</span> := Struct <span class="kn">Definition</span> <span class="nf">this_is_b</span> : nat. <span class="kn">End</span></blockquote></div></div></small></span></pre><div class="doc">
But, even though <span class="inlinecode"><span class="id" title="var">B</span></span> is <span class="inlinecode"><span class="id" title="keyword">Import</span></span>ed in <span class="inlinecode"><span class="id" title="var">A</span></span>, we cannot use a short name
    for <span class="inlinecode"><span class="id" title="var">this_is_b</span></span>: 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chka9" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chka9"><span class="kn">Fail</span> <span class="kn">Print</span> this_is_b.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">The command has indeed failed <span class="kr">with</span> message:
this_is_b not a defined object.</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chkaa" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chkaa"><span class="kn">Print</span> B.this_is_b.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">B.this_is_b@{} = <span class="mi">42</span>
     : nat</blockquote></div></div></small></span></pre><div class="doc">
This behaviour is actually very sane. Some programmers may have <span class="inlinecode"><span class="id" title="keyword">Import</span></span>ed
    modules in library files for convenience, this should not affect every
    users of their library.

<div class="paragraph"> </div>

    Still, there is a way (and sometimes good reason) to both <span class="inlinecode"><span class="id" title="keyword">Import</span></span> a module
    (which could be a file) and mark it for importation whenever the current
    module (or file) is <span class="inlinecode"><span class="id" title="keyword">Import</span></span>ed: we use the <span class="inlinecode"><span class="id" title="keyword">Export</span></span> command. 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Module</span> <span class="nf">A&#39;</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">this_is_a&#39;</span> := <span class="mi">0</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Module</span> <span class="nf">B&#39;</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">this_is_b&#39;</span> := <span class="mi">42</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">B&#39;</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chkab" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chkab"><span class="kn">Fail</span> <span class="kn">Check</span> this_is_b&#39;. <span class="c">(* The module [B&#39;] has not been [Import]ed in [A&#39;]. *)</span></label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">The command has indeed failed <span class="kr">with</span> message:
The reference this_is_b&#39; was not found <span class="kr">in</span> the current
environment.</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Export</span> B&#39;.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chkac" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chkac"><span class="kn">Check</span> this_is_b&#39;. <span class="c">(* The module [B&#39;] is now [Import]ed in A&#39;. *)</span></label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">this_is_b&#39;
     : nat</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">A&#39;</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chkad" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chkad"><span class="kn">Fail</span> <span class="kn">Check</span> this_is_b&#39;.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">The command has indeed failed <span class="kr">with</span> message:
The reference this_is_b&#39; was not found <span class="kr">in</span> the current
environment.</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Import</span> A&#39;.</span></span></pre><div class="doc">
Since <span class="inlinecode"><span class="id" title="var">B'</span></span> was <span class="inlinecode"><span class="id" title="keyword">Export</span></span>ed in <span class="inlinecode"><span class="id" title="var">A'</span></span>, <span class="inlinecode"><span class="id" title="keyword">Import</span></span>ing <span class="inlinecode"><span class="id" title="var">A'</span></span> also <span class="inlinecode"><span class="id" title="keyword">Import</span></span>s <span class="inlinecode"><span class="id" title="var">B'</span></span>: 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="RequireImportTutorial-v-chkae" style="display: none" type="checkbox"><label class="alectryon-input" for="RequireImportTutorial-v-chkae"><span class="kn">Check</span> this_is_b&#39;.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">this_is_b&#39;
     : nat</blockquote></div></div></small></span></pre><div class="doc">
As this gives less control to the final user, <span class="inlinecode"><span class="id" title="keyword">Export</span></span>ing modules should not
    be done lightly.

<div class="paragraph"> </div>

    A common usage is to write a library split in small library files and a
    summary file <span class="inlinecode"><span class="id" title="keyword">Export</span></span>ing all of them, so that requiring and importing it
    makes all the library content available at once.

<div class="paragraph"> </div>

    Another use case is when <span class="inlinecode"><span class="id" title="keyword">Import</span></span>ing a module (say about real numbers)
    would only really make sense when another one (say about integers) is also
    imported.

<div class="paragraph"> </div>

    Other than that, <span class="inlinecode"><span class="id" title="keyword">Export</span></span> behaves much like <span class="inlinecode"><span class="id" title="keyword">Import</span></span>: it allows us to use
    short names for constants, activates module features such as <span class="inlinecode"><span class="id" title="var">Hints</span></span>,
    <span class="inlinecode"><span class="id" title="var">Notations</span></span>, etc.

<div class="paragraph"> </div>

    One can also use selective import with <span class="inlinecode"><span class="id" title="keyword">Export</span></span>, and locality attributes
    behave the same.

<div class="paragraph"> </div>

    Finally, it is possible to <span class="inlinecode"><span class="id" title="keyword">Require</span></span> and <span class="inlinecode"><span class="id" title="keyword">Export</span></span> a library file at the
    same time.
    For instance, the following command in <span class="inlinecode"><span class="id" title="var">Coq.Arith.Arith_base</span></span>:
    <span class="inlinecode"><span class="id" title="keyword">From</span></span> <span class="inlinecode"><span class="id" title="var">Coq</span></span> <span class="inlinecode"><span class="id" title="keyword">Require</span></span> <span class="inlinecode"><span class="id" title="keyword">Export</span></span> <span class="inlinecode"><span class="id" title="var">Arith.PeanoNat</span>.</span>
    imports <span class="inlinecode"><span class="id" title="var">PeanoNat</span></span>'s content in <span class="inlinecode"><span class="id" title="var">Coq.Arith.Arith_base</span></span> as well as in any
    file which <span class="inlinecode"><span class="id" title="keyword">Require</span></span>s and <span class="inlinecode"><span class="id" title="keyword">Import</span></span>s (or <span class="inlinecode"><span class="id" title="keyword">Export</span></span>s) <span class="inlinecode"><span class="id" title="var">Coq.Arith.Arith_base</span></span>.

</div>